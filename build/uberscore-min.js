/**
 * uberscore - version 0.0.17
 * Compiled on 2014-10-19 6:57:35
 * git://github.com/anodynos/uBerscore
 * Copyright(c) 2014 Agelos Pikoulas (agelos.pikoulas@gmail.com )
 * Licensed MIT http://www.opensource.org/licenses/mit-license.php
 */

// Generated by uRequire v0.7.0-beta5 - template: 'combined' 
// Combined template optimized with RequireJS/r.js v2.1.15 & almond.
(function(e,t){var r=!("function"!=typeof define||!define.amd),n="object"==typeof exports,i=!n,o=n?require:function(e){throw new Error("uRequire detected missing dependency: '"+e+"' - in a non-nodejs runtime. All it's binding variables were 'undefined'.")},s=function(e,t){return function(){return e.apply(t,arguments)}},u={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a=[].slice,c=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1},p=function(e){var p,f,d;!function(e){function t(e,t){return x.call(e,t)}function r(e,t){var r,n,i,o,s,u,l,a,c,p,f,d=t&&t.split("/"),h=b.map,g=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=e.split("/"),s=e.length-1,b.nodeIdCompat&&j.test(e[s])&&(e[s]=e[s].replace(j,"")),e=d.concat(e),c=0;c<e.length;c+=1)if(f=e[c],"."===f)e.splice(c,1),c-=1;else if(".."===f){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||g)&&h){for(r=e.split("/"),c=r.length;c>0;c-=1){if(n=r.slice(0,c).join("/"),d)for(p=d.length;p>0;p-=1)if(i=h[d.slice(0,p).join("/")],i&&(i=i[n])){o=i,u=c;break}if(o)break;!l&&g&&g[n]&&(l=g[n],a=c)}!o&&l&&(o=l,u=a),o&&(r.splice(0,u,o),e=r.join("/"))}return e}function n(t,r){return function(){var n=E.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),c.apply(e,n.concat([t,r]))}}function i(e){return function(t){return r(t,e)}}function o(e){return function(t){y[e]=t}}function s(r){if(t(v,r)){var n=v[r];delete v[r],m[r]=!0,a.apply(e,n)}if(!t(y,r)&&!t(m,r))throw new Error("No "+r);return y[r]}function u(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function l(e){return function(){return b&&b.config&&b.config[e]||{}}}var a,c,h,g,y={},v={},b={},m={},x=Object.prototype.hasOwnProperty,E=[].slice,j=/\.js$/;h=function(e,t){var n,o=u(e),l=o[0];return e=o[1],l&&(l=r(l,t),n=s(l)),l?e=n&&n.normalize?n.normalize(e,i(t)):r(e,t):(e=r(e,t),o=u(e),l=o[0],e=o[1],l&&(n=s(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:n}},g={require:function(e){return n(e)},exports:function(e){var t=y[e];return"undefined"!=typeof t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:l(e)}}},a=function(r,i,u,l){var a,c,p,f,d,b,x=[],E=typeof u;if(l=l||r,"undefined"===E||"function"===E){for(i=!i.length&&u.length?["require","exports","module"]:i,d=0;d<i.length;d+=1)if(f=h(i[d],l),c=f.f,"require"===c)x[d]=g.require(r);else if("exports"===c)x[d]=g.exports(r),b=!0;else if("module"===c)a=x[d]=g.module(r);else if(t(y,c)||t(v,c)||t(m,c))x[d]=s(c);else{if(!f.p)throw new Error(r+" missing "+c);f.p.load(f.n,n(l,!0),o(c),{}),x[d]=y[c]}p=u?u.apply(y[r],x):void 0,r&&(a&&a.exports!==e&&a.exports!==y[r]?y[r]=a.exports:p===e&&b||(y[r]=p))}else r&&(y[r]=u)},p=f=c=function(t,r,n,i,o){if("string"==typeof t)return g[t]?g[t](r):s(h(t,r).f);if(!t.splice){if(b=t,b.deps&&c(b.deps,b.callback),!r)return;r.splice?(t=r,r=n,n=null):t=e}return r=r||function(){},"function"==typeof n&&(n=i,i=o),i?a(e,t,r,n):setTimeout(function(){a(e,t,r,n)},4),c},c.config=function(e){return c(e)},p._defined=y,d=function(e,r,n){r.splice||(n=r,r=[]),t(y,e)||t(v,e)||(v[e]=[e,r,n])},d.amd={jQuery:!0}}(),d("almond",function(){}),d("util",[],function(){if(n)return o("util");throw new Error("uRequire: trying to access unbound / excluded 'node-only' dependency 'util') on browser")}),d("agreement/isAgree",["require"],function(){return function(t,r){return e.isRegExp(r)?r.test(t+""):e.isFunction(r)?r(t):void 0===r?!0:e.isEqual(t,r)?!0:t+""==r+""}}),d("types/type",["require","exports","module"],function(t,r,n){var i,o=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};return i=function(t,r){var n,o,s;null==r&&(r=!1),s=i.TYPES;for(n in s)if(o=s[n],e["is"+n](t))return r?o[0]:n;return"UNKNOWN"},i.toShort=function(e){var t,r,n;if(i.TYPES[e])return i.TYPES[e][0];n=i.TYPES;for(t in n)if(r=n[t],o.call(r,e)>=0)return r[0]},i.toLong=function(e){var t,r,n;if(i.TYPES[e])return e;n=i.TYPES;for(t in n)if(r=n[t],o.call(r,e)>=0)return t},i.areEqual=function(e,t){return i.toShort(e)===i.toShort(t)},i.isType=function(t){var r;return r=i.toLong(t),o.call(e.keys(i.TYPES),r)>=0},i.TYPES={Arguments:["args","..."],Array:["[]","A"],Function:["->","F"],String:["''","S",'""'],Date:["D"],RegExp:["//","R"],Number:["N"],Boolean:["B"],Object:["{}","O"],Null:["null","-"],Undefined:["U","void","?"]},n.exports=i,n.exports}),d("objects/getp",["require","exports","module"],function(t,r,n){var i,o;return i={separator:"/",stopKey:"#",terminateKey:void 0,defaultKey:"*",isReturnLast:!1},o=function(t,r,n){var o,s,u,l,a,c;if(null==n&&(n=i),n!==i&&e.defaults(n,i),!e.isArray(r))if(e.isString(r))r=r.split(n.separator);else{if(!e.isNumber(r)){if(void 0===r)return t;throw"_B.getp Error: invalid path: "+r}r=[r+""]}for(a=0,c=r.length;c>a;a++)if(u=r[a],u+""){if(void 0!==t&&(o=t),!e.isObject(t)){t=void 0;break}if(n.terminateKey&&t[n.terminateKey]){l={},l[n.terminateKey]=t[n.terminateKey],t=l;break}if(void 0!==(s=t[u]))t=s;else{if(n.stopKey&&void 0!==t[n.stopKey]){t=t[n.stopKey];break}t=n.defaultKey&&t[n.defaultKey]?t[n.defaultKey]:void 0}}return void 0===t&&n.isReturnLast?o:t},n.exports=o,n.exports}),d("types/isHash",["require","./type"],function(e,t){return function(e){return"Object"===t(e)}}),d("utils/CoffeeUtils",["require"],function(){var e;return e=function(){function e(){}return e.prototype.getClasses=function(e,t){return null==t&&(t=[]),e||(e=this),"function"!=typeof e&&(e=e.constructor),t.unshift(e),e.__super__?this.getClasses(e.__super__.constructor,t):t},e.getClasses=e.prototype.getClasses,e}()}),d("utils/subclass",["require","exports","module"],function(t,r,n){var i;return i=n.exports=function(t,r){var n,i,o;return o=this,i=void 0,i=t&&e.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},e.extend(i,o,r),n=function(){return this.constructor=i,this},n.prototype=o.prototype,i.prototype=new n,t&&e.extend(i.prototype,t),i.__super__=o.prototype,i},n.exports}),d("collections/array/arrayize",["require","exports","module","../../agreement/isAgree"],function(t,r,n){var i,o;return i=t("../../agreement/isAgree"),o=function(t){return e.isArray(t)?t:e.isUndefined(t)||e.isNull(t)?[]:[t]},n.exports=o,n.exports}),d("agreement/inAgreements",["require","exports","module","../collections/array/arrayize"],function(t,r,n){var i;return i=t("../collections/array/arrayize"),n.exports=function(t,r){var n,o,s;if(r=i(r),e.isEmpty(r))return!1;for(o=0,s=r.length;s>o;o++)if(n=r[o],h(t,n))return!0;return!1},n.exports}),d("objects/setp",["require","exports","module"],function(t,r,n){var i,o;return i={separator:"/",create:!0,overwrite:!1},o=function(t,r,n,o){var s,u,l,a,c;if(null==o&&(o=i),o!==i&&e.defaults(o,i),!e.isArray(r)){if(!e.isString(r))throw"_B.setp Error: invalid path: "+r+".\nUse either an Array, eg ['path1', 'path2']\nor `separator`-ed String, eg 'path1.path2'";r=r.split(o.separator),r=function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)u=r[e],u&&n.push(u);return n}()}if(!e.isObject(t))throw"_B.setp Error: invalid object: "+t;for(l=a=0,c=r.length;c>a;l=++a){if(u=r[l],!e.isObject(t[u]))if(o.create||o.overwrite)s=null,e.isUndefined(t[u])?s={}:o.overwrite&&(s={},e.isString(o.overwrite)&&(s[o.overwrite]=t[u])),s&&(t[u]=s);else if(e.isUndefined(t[u]))return!1;l<r.length-1&&(t=t[u])}return e.isObject(t)?(t[u]=n,!0):!1},n.exports=o,n.exports}),d("Logger",["require","exports","module","./agreement/inAgreements","./objects/setp","./objects/getp"],function(t,r,o){var s,u,l,a,c=[].slice;return l=t("./agreement/inAgreements"),a=t("./objects/setp"),u=t("./objects/getp"),s=function(){function r(e,t){null==e&&(e=[]),this.debugLevel=t,this.setDebugPath(e),r.loggerCount=(r.loggerCount||0)+1}var o,s,p,f,d,h;p=function(t,n,o){return function(){var u,l,a,p,f,d,h,g,y;l=1<=arguments.length?c.call(arguments,0):[],e.isString(l[0])&&(f=s(l[0]),l[0]=l[0].slice(f)),l=function(){var e,t,n;for(n=[],e=0,t=l.length;t>e;e++)u=l[e],n.push(r.prettify(u));return n}(),h=""+(e.isEmpty("undefined"!=typeof this&&null!==this?this.debugPath:void 0)?"Logger"+r.loggerCount+" ":"["+this.debugPath.join("/")+"] ")+t,h&&(h+=":"),l.unshift(h),"undefined"!=typeof i&&null!==i&&i||l.unshift(""+n),l.unshift(function(){var e,t;for(t=[],p=e=1;f>=e;p=e+=1)t.push("\n");return t}().join("")),"undefined"!=typeof i&&null!==i&&i||l.push("[0m"),o.apply(console,l);try{return l.join("")}catch(v){for(a=v,d="",g=0,y=l.length;y>g;g++)u=l[g],d+=Object.prototype.toString(u);return d}}},s=function(e){var t;for(t=0;"\n"===e[t];)t++;return t},o=function(t){var r,n,i,o,s;if(e.isString(t)){for(o=t.split("/"),s=[],n=0,i=o.length;i>n;n++)r=o[n],r&&s.push(r);return s}return e.isUndefined(t)?[]:e.isArray(t)?t:[t]},r.prototype.setDebugPath=function(e){return this.debugPath=o(e)},r.addDebugPathLevel=function(t,n){if(e.isNaN(1*n))throw new Error("debugLevel '"+n+"' isNaN (Not a Number or not Number parsable)");return t=e.clone(o(t)),t.unshift("debugPathsLevels"),t.push("_level"),a(r,t,1*n,{create:!0})},r.prototype.getDebugPathLevel=function(t){var n,i,o;for(null==t&&(t=this.debugPath),i=e.clone(t),o=u(r.debugPathsLevels,i),n=i.pop();e.isUndefined(null!=o?o._level:void 0)&&n;)o=u(r.debugPathsLevels,i),n=i.pop();return null!=o?o._level:void 0},r.prototype.isDebug=function(t){var n;if(e.isNumber(r.maxDebugLevel)&&t>r.maxDebugLevel)return!1;if(e.isNumber(this.debugLevel)){if(t>this.debugLevel)return!1}else if(e.isNumber(n=this.getDebugPathLevel())){if(t>n)return!1}else if(t>1)return!1;return!0},r.prototype.deb=function(){var t;return t=p("DEBUG","[35m",console.log),function(){var r,n,i,o,u;return n=arguments[0],i=2<=arguments.length?c.call(arguments,1):[],e.isEmpty(i)&&e.isNumber(n)?this.isDebug(this.lastDebugLevelCheck=n):(e.isNumber(n)?i.unshift("("+n+")"):(i.unshift(n),n=null!=(u=this.lastDebugLevelCheck)?u:1,i.unshift(this.lastDebugLevelCheck?"(?"+this.lastDebugLevelCheck+")":"(!1)")),e.isString(i[1])&&(o=s(i[1]),i[1]=i[1].slice(o),i[0]=function(){var e,t;for(t=[],r=e=1;o>=e;r=e+=1)t.push("\n");return t}().join("")+i[0]),delete this.lastDebugLevelCheck,this.isDebug(n)?t.apply(this,i):void 0)}}(),r.prototype.debug=r.prototype.deb,r.prettify="undefined"!=typeof n&&null!==n&&n?function(t){var r;return r=function(){var e,t,r,n,i,o;for(t=[],o=process.version.slice(1).split("."),e=n=0,i=o.length;i>n;e=++n)r=o[e],t[e]=1*r;return t[0]>0||t[1]>9?!1:9===t[1]?t[2]<=2?!0:!1:!0}(),function(n){var i;return i=r?"[0m"+t(n,!1,null,!0):"[0m"+t(n,{showHidden:!1,depth:null,colors:!0}),e.isArray(n)&&i.replace(/\n/g,""),l(n,[e.isObject,e.isRegExp])?i:n}}(t("util").inspect):function(e){return e},r.prototype.prettify=r.prettify,r.prototype.err=p("ERROR","[31m",console.error),r.prototype.er=p("ERRor","[31m",console.log),r.prototype.warn=p("WARNING","[33m",console.log),r.prototype.verbose=p("","[36m",console.log),r.prototype.ver=r.prototype.verbose,r.prototype.ok=p("","[32m",console.log),r.prototype.log=p("","[0m",console.log),r.logger=new r("DefaultLogger"),h=r.prototype;for(f in h)d=h[f],r[f]=e.isFunction(d)?e.bind(d,r.logger):d;return r}(),o.exports=s,o.exports}),d("blending/Blender",["require","../types/type","../objects/getp","../types/isHash","../utils/CoffeeUtils","../utils/subclass","../Logger"],function(t,r,n,i,o){var c,p;return i=t("../types/isHash"),c=function(){function e(e){this.name=e}return e}(),p=function(o){function p(){var r,n,o,u,l,c,p,f,d,h,g,y;for(u=1<=arguments.length?a.call(arguments,0):[],this.blenderBehaviors=u,this.write=s(this.write,this),this._blend=s(this._blend,this),this.blend=s(this.blend,this),this.getNextAction=s(this.getNextAction,this),this.getAction=s(this.getAction,this),this.l=new(t("../Logger"))("uberscore/Blender",this.debugLevel),e.isArray(this.blenderBehaviors[0])&&(i(this.blenderBehaviors[1])&&e.extend(this,this.blenderBehaviors[1]),this.blenderBehaviors=this.blenderBehaviors[0]),g=this.getClasses(),f=g.length-1;f>=0;f+=-1)r=g[f],r.behavior&&this.blenderBehaviors.push(r.behavior);c=e.last(this.blenderBehaviors);for(p in c)l=c[p],e.isUndefined(l["*"])&&(l["*"]||(l["*"]=c["*"]["*"]));for(y=this.blenderBehaviors,o=d=0,h=y.length;h>d;o=++d)n=y[o],this.blenderBehaviors[o]=this.adjustBlenderBehavior(n);this.path=[]}return l(p,o),p.subclass=t("../utils/subclass"),p.prototype.inherited=!1,p.prototype.copyProto=!1,p.prototype.pathTerminator="|",p.prototype.isExactPath=!0,p.prototype.pathSeparator=":",p.prototype.debugLevel=0,p.prototype.defaultBBOrder=["src","dst"],p.prototype.adjustBlenderBehavior=function(e){return e.order||(e.order=this.defaultBBOrder),this._adjustBbSrcDstPathSpec(e,e.order)},p.prototype._adjustBbSrcDstPathSpec=function(e,t){var n,o,s,u,l,a,c,p,f,d,h;if(t.length>0)if(n=t[0],"path"===n)for(s in e)if(f=e[s],s===this.pathTerminator)i(f)&&this._adjustBbSrcDstPathSpec(f,t.slice(1));else{if(c=this.pathSeparator?function(){var e,t,r,n;for(r=s.split(this.pathSeparator),n=[],e=0,t=r.length;t>e;e++)a=r[e],a&&n.push(a.trim());return n}.call(this):[],c.length>1){for(u=e,o=d=0,h=c.length;h>d;o=++d)l=c[o],u[l]||(u[l]={}),o<c.length-1?u=u[l]:u[l]=f;delete e[s]}else c[0]&&s!==c[0]&&(e[c[0]]=f,delete e[s]);i(f)&&this._adjustBbSrcDstPathSpec(f,t)}else for(s in e)f=e[s],r.isType(s)&&(p=r.toShort(s),p&&s!==p&&(e[p]=e[s],delete e[s])),i(f)&&this._adjustBbSrcDstPathSpec(f,t.slice(1));return e},p.prototype.getAction=function(t,r){var n,i,o,s,u;for(null==r&&(r=this.currentBlenderBehaviorIndex),u=this.blenderBehaviors,i=o=0,s=u.length;s>o;i=++o)if(n=u[i],i>=r&&e.isFunction(n[t]))return e.bind(n[t],this);if(e.isFunction(this[t]))return e.bind(this[t],this);throw this.l.err("_B.Blender.blend: Error: Invalid BlenderBehavior `actionName` = ",t," - no Function by that name is found in a preceding BlenderBehavior or Blender it self."," belowBlenderBehaviorIndex="+r," @currentBlenderBehaviorIndex="+this.currentBlenderBehaviorIndex," @blenderBehaviors=",this.blenderBehaviors)},p.prototype.getNextAction=function(t,r,i){var o,s,u,l,a,p;for(s=t,p=t.order,l=0,a=p.length;a>l&&(o=p[l],!(void 0===s||e.isString(s)||e.isFunction(s)||s instanceof c));l++){if(e.isUndefined(i[o]))throw this.l.err("_.Blender.blend: Error: Invalid BlenderBehavior `order` '"+o+"',\nwhile reading BlenderBehavior #"+r+" :\n",this.blenderBehaviors[r],"\n\nDefault BlenderBehavior order is ",this.defaultBBOrder);"path"===o?(u=n(s,this.path.slice(1),{terminateKey:this.isExactPath?void 0:this.pathTerminator}),e.isObject(u)&&(u=u["|"])):u=s[i[o]]||s["*"],s=u}return s},p.prototype.blend=function(){var t,r,n,i,o,s;if(t=arguments[0],n=2<=arguments.length?a.call(arguments,1):[],e.isEmpty(this.path)){for((e.isUndefined(n)||e.isEmpty(n))&&(n=[t],t=this.createAs(t)),r={$:t},this.dstRoot=t,o=0,s=n.length;s>o;o++)i=n[o],this.srcRoot=i,this._blend(r,{$:i});return r.$}return this._blend.apply(this,arguments)},p.prototype._blend=function(){var t,n,i,o,s,u,l,p,f,d,h,g,y,v,b,m,x,E;for(o=arguments[0],f=2<=arguments.length?a.call(arguments,1):[],g=0,b=f.length;b>g;g++)for(d=f[g],l=this.properties(d),y=0,m=l.length;m>y;y++){for(u=l[y],this.path.push(u),h=!0,E=this.blenderBehaviors,i=v=0,x=E.length;x>v;i=++v)if(n=E[i],h&&(this.currentBlenderBehaviorIndex=i,this.currentBlenderBehavior=this.blenderBehaviors[i],s=this.getNextAction(n,i,{dst:r(this.read(o,u),!0),src:r(this.read(d,u),!0),path:this.path}),void 0!==s)){if(t=s,!e.isFunction(t))if(e.isString(t))t=this.getAction(t,i);else{if(!(t instanceof c))throw this.l.err("_B.Blender.blend: Invalid `action` (neither 'Function' nor 'String'): ",t);p=t}t instanceof c||(p=t.call(this,u,d,o,this)),h=!1,p instanceof c?((p===this.DELETE||p===this.DELETE_NEXT)&&this["delete"](o,u),(p===this.NEXT||p===this.DELETE_NEXT)&&(h=!0)):(e.isArray(p)&&p[0]===this.NEXT&&(p=p[1],h=!0),this.resultHandler(o,u,p))}this.path.pop()}return o},p.prototype.createAs=function(t){return e.isArray(t)?[]:this.copyProto?Object.create(Object.getPrototypeOf(t)):{}},p.prototype.read=function(t,r){if(e.isUndefined(r))throw"Read without a prop";return t[r]},p.prototype.write=function(t,r,n){if(e.isUndefined(r))throw"Write without a prop";return t[r]=n,n},p.prototype["delete"]=function(t,r){if(e.isUndefined(r))throw"Delete without a prop";return delete t[r]},p.prototype.properties=function(t){var r,n,i,o,s,l,a;if(e.isArray(t)){for(s=[],r=i=0,o=t.length;o>i;r=++i)n=t[r],s.push(r);return s}if(this.inherited){l=[];for(r in t)l.push(r);return l}a=[];for(r in t)u.call(t,r)&&a.push(r);return a},p.prototype.copy=function(e,t){var r,n,i,o;for(o=this.properties(t),n=0,i=o.length;i>n;n++)r=o[n],this.write(e,r,this.read(t,r));return e},p.prototype.resultHandler=p.prototype.write,p.prototype.overwrite=function(e,t){return this.read(t,e)},p.prototype.deepOverwrite=function(e,t,r){var n;return this.copyProto&&({}.__proto__===Object.prototype?this.read(r,e).__proto__=this.read(t,e).__proto__:(n=Object.create(Object.getPrototypeOf(this.read(t,e))),this.copy(n,this.read(r,e)),this.write(r,e,n))),this.blend(this.read(r,e),this.read(t,e))},p.prototype.arrayAppend=function(e,t,r){var n,i,o,s,u,l;for(l=[this.read(t,e),this.read(r,e)],o=l[0],n=l[1],s=0,u=o.length;u>s;s++)i=o[s],n.push(i);return n},p.behavior={order:["dst","src"],"*":{"*":"overwrite"},"[]":{"[]":"deepOverwrite","{}":"deepOverwrite","->":"deepOverwrite"},"{}":{"{}":"deepOverwrite","[]":"deepOverwrite","->":"deepOverwrite"},"->":{"{}":"deepOverwrite","[]":"deepOverwrite","->":"deepOverwrite"}},p.SKIP=new c("SKIP"),p.prototype.SKIP=p.SKIP,p.NEXT=new c("NEXT"),p.prototype.NEXT=p.NEXT,p.DELETE=new c("DELETE"),p.prototype.DELETE=p.DELETE,p.DELETE_NEXT=new c("DELETE_NEXT"),p.prototype.DELETE_NEXT=p.DELETE_NEXT,p}(o)}),d("blending/blenders/DeepCloneBlender",["require","../../types/type","../Blender"],function(e,t){var r;return r=e("../Blender").subclass({},{behavior:{order:["dst","src"],"*":{"[]":"deepCloneOverwrite","{}":"deepCloneOverwrite","->":function(e,t){return this.read(t,e)},Undefined:function(){return this.SKIP}},deepCloneOverwrite:function(e,r,n){var i,o,s;return s=t(this.read(r,e)),i=t(this.read(n,e)),i!==s&&(o=["Function","Object"],c.call(o,i)>=0&&c.call(o,s)>=0||this.write(n,e,"Array"===s?[]:{})),this.deepOverwrite(e,r,n)}}})}),d("blending/blenders/DeepExtendBlender",["require","../Blender","../../Logger"],function(t,r){var n,i;return i=new(t("../../Logger"))("uberscore/DeepExtendBlender"),n=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return l(r,t),r.behavior={order:["src","dst"],String:{"*":"overwriteOrReplace"},"[]":{"[]":function(t,r,n){return e.reject(this.deepOverwrite(t,r,n),function(e){return null===e||void 0===e})},"*":function(e,t,r){throw"deepExtend: Error: Trying to combine an array with a non-array.\n\nProperty: "+e+"\ndestination[prop]: "+i.prettify(r[e])+"\nsource[prop]: "+i.prettify(t[e])}},"{}":{"{}":function(e,t,r){var n,i,o,s;s=n=this.getAction("deepOverwrite")(e,t,r);for(i in s)o=s[i],(null===o||void 0===o)&&delete n[i];return n},"*":function(e,t,r){throw"deepExtend: Error trying to combine a PlainObject with a non-PlainObject.\n\nProperty: "+e+"\ndestination[prop]: "+i.prettify(r[e])+"\nsource[prop]: "+i.prettify(t[e])}},overwriteOrReplace:function(t,r,n){var i;return i=/\${\s*?_\s*?}/,e.isString(r[t])&&i.test(r[t])?e.isString(n[t])?r[t].replace(i,n[t]):n[t]:r[t]}},r}(r)}),d("blending/blenders/DeepDefaultsBlender",["require","../../types/type","./DeepCloneBlender"],function(e,t,r){var n;return n=r.subclass({},{behavior:{order:["dst","src"],Undefined:function(){return this.NEXT},Null:function(){return this.NEXT},"{}":{"{}":function(){return this.NEXT},"->":function(){return this.NEXT},"*":function(){return this.SKIP}},"->":{"{}":function(){return this.NEXT},"->":function(){return this.NEXT},"*":function(){return this.SKIP}},"[]":{"[]":function(){return this.NEXT},"*":function(){return this.SKIP}},"*":function(){return this.SKIP}}})}),d("blending/blenders/ArrayizeBlender",["require","exports","module","../../collections/array/arrayize","./DeepCloneBlender"],function(t,r,n,i){var o;return o=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return l(r,t),r.prototype.addMethod="push",r.prototype.unique=!1,r.prototype.reverse=!1,r.behavior={order:["src"],"*":"addToArray",addToArray:function(t,r,n){var o,s,u,l,a,p;for(o=this.write(n,t,i(this.read(n,t))),u=i(this.read(r,t)),e.isEqual(u[0],[null])&&(o=this.write(n,t,[]),u=u.slice(1)),s=this.unique?function(){var e,t,r;for(r=[],e=0,t=u.length;t>e;e++)l=u[e],c.call(o,l)<0&&r.push(l);return r}():e.clone(u),this.reverse&&s.reverse(),a=0,p=s.length;p>a;a++)l=s[a],o[this.addMethod](l);return o}},r}(t("./DeepCloneBlender"))}),d("blending/blenders/index",["require","exports","module","./DeepCloneBlender","./DeepExtendBlender","./DeepDefaultsBlender","./ArrayizeBlender"],function(e,t,r){return r.exports={DeepCloneBlender:e("./DeepCloneBlender"),DeepExtendBlender:e("./DeepExtendBlender"),DeepDefaultsBlender:e("./DeepDefaultsBlender"),ArrayizeBlender:e("./ArrayizeBlender")},r.exports}),d("blending/traverse",["require","exports","module","./Blender"],function(e,t,r){var n,i;return n=e("./Blender"),i=function(e,t){var r,i,o;return r={},i=!0,o=new n([{order:["src"],"[]":"traverse","{}":"traverse","->":"traverse","*":n.SKIP,traverse:function(n,o,s,u){return this.read(o,n)!==e&&(i=t.call(this,n,o,u)),i!==!1&&this.blend(r,this.read(o,n)),this.SKIP}}],{debugLevel:0}),o.blend(r,e)},r.exports=i,r.exports}),d("blending/clone",["require","exports","module","./blenders/DeepCloneBlender"],function(t,r,n){var i,o;return i=t("./blenders/DeepCloneBlender"),o=function(t,r){return r?r===!0||r.deep?new i([],r).blend(t):new i([{"*":{"*":"overwrite"}}],r).blend(t):e.clone(t,r)},n.exports=o,n.exports}),d("objects/okv",["require","exports","module"],function(t,r,n){var i,o=[].slice;return i=function(){var t,r,n,i,s,u;if(i=arguments[0],n=2<=arguments.length?o.call(arguments,1):[],e.isString(i)&&(n.unshift(i),i={}),e.isObject(i)){for(t=s=0,u=n.length;u>s;t=s+=2)r=n[t],t+1<n.length&&(i[r+""]=n[t+1]);return i}return null},n.exports=i,n.exports}),d("collections/go",["require","exports","module"],function(t,r,n){var i,o=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};return i=function(t,r,n){var i,s,u,l,a,c,p,f,d,h,g,y,v,b;if(r&&(u=r.fltr,c=r.iter,y=r.sort,l=r.grab),a=!e.isArray(t),f=function(){return a?{}:[]},t=e.clone(t),h=null,d=function(){return h=void 0===l?f():e.isFunction(l)?f():e.isArray(l)?[]:e.isObject(l)?{}:e.isString(l)?"[]"===l||"array"===l||"Array"===l||"a"===l||"A"===l?[]:"{}"===l||"object"===l||"Object"===l||"o"===l||"O"===l?{}:f():f()},g=function(t,r){return e.isArray(h)?h.push(t):h[r]=t},s=function(e,r){return a&&(r=e,e=t[r]),[e,r]},void 0!==u&&(d(),e.each(t,function(r,i){var s;if(e.isFunction(u)){if(u.call(n,r,i,t))return g(r,i)}else if(a&&(e.isString(u)&&(u=[u]),e.isArray(u)&&o.call(function(){var e,t,r;for(r=[],e=0,t=u.length;t>e;e++)s=u[e],r.push(s.toString());return r}(),i)>=0))return g(r,i)}),t=h),void 0!==y&&(d(),p=[],e(t).map(function(e,t){return a?t:e}).sortBy(e.isFunction(y)?function(e,t){return y.apply(n,s(e,t))}:e.isString(y)?function(e){return e}:e.isBoolean(y)?y?function(){return!0}:function(){return!1}:y).each(function(e,t){return g.apply(null,s(e,t))}),t=h),e.isFunction(c)&&(void 0===y?e.each(t,function(e,r){return c.call(n,e,r,t)}):e.each(t,function(e,r){return c.call(n,e,r,t)})),l)if(e.isFunction(l))e.each(t,function(e,r){return l.call(n,e,r,t)});else if(e.isArray(l))for(v=0,b=t.length;b>v;v++)i=t[v],l.push(i);else e.isObject(l)&&e.extend(l,t);return t},n.exports=i,n.exports}),d("objects/mutate",["require","exports","module","../collections/go"],function(t,r,n){var i=t("../collections/go"),o=function(t,r,n){return e.isFunction(r)&&i(t,{iter:function(e,i){return h(e,n)?t[i]=r(e):void 0}}),t};return n.exports=o,n.exports}),d("objects/isDisjoint",["require","exports","module"],function(t,r,n){var i;return i=function(t,r,n){var i;return null==n&&(n=function(e,t){return e===t}),i=!1,e.each(t,function(t){return e.any(r,function(e){return n(t,e)})?(i=!0,!1):void 0}),!i},n.exports=i,n.exports}),d("objects/getRefs",["require","exports","module"],function(t,r,n){var i,o,s={}.hasOwnProperty;return o={deep:!1,inherited:!1},i=function(t,r,n){var u,l,a,c,p;for(null==r&&(r=o),null==n&&(n=[]),r!==o&&e.defaults(r,o),l=r.inherited?function(){var e;e=[];for(u in t)e.push(u);return e}():function(){var e;e=[];for(u in t)s.call(t,u)&&e.push(u);return e}(),c=0,p=l.length;p>c;c++)u=l[c],a=t[u],e.isObject(a)&&(n.push(a),r.deep&&i(a,r,n));return n},n.exports=i,n.exports}),d("objects/isRefDisjoint",["require","exports","module","./getRefs","./isDisjoint"],function(t,r,n){var i,o,s,u;return i=t("./getRefs"),o=t("./isDisjoint"),u={deep:!1,inherited:!1},s=function(t,r,n){var s,l;return null==n&&(n=u),n!==u&&e.defaults(n,u),t===r?!1:(s=i(t,n),s.unshift(t),l=i(r,n),l.unshift(r),o(s,l))},n.exports=s,n.exports}),d("objects/getInheritedPropertyNames",["require","exports","module"],function(t,r,n){var i,o;return i=function(e){return o(Object.getPrototypeOf(e))},o=function(t){var r;for(r=[];;){if(!t||void 0===t||e.isEmpty(t)&&!Object.getPrototypeOf(t))break;Object.getOwnPropertyNames(t).forEach(function(e){return-1===r.indexOf(e)&&"constructor"!==e?r.push(e):void 0}),t=Object.getPrototypeOf(t)}return r},n.exports=i,n.exports}),d("types/isPlain",["require","exports","module","./type"],function(e,t,r){function n(e,t){for(var r=-1,n=t.length>>>0;++r<n;)if(e===t[r])return!0;return!1}var i,o;return i=e("./type"),o=function(e){return n(i(e),o.PLAIN_TYPES)},o.PLAIN_TYPES=["String","Date","RegExp","Number","Boolean","Null","Undefined"],r.exports=o,r.exports}),d("collections/array/isEqualArraySet",["require","exports","module"],function(t,r,n){var i;return i=function(t,r){return 0===e.difference(t,r).length?0===e.difference(r,t).length:!1},n.exports=i,n.exports}),d("objects/isEqual",["require","exports","module","../types/type","../types/isPlain","../types/isHash","../collections/array/isEqualArraySet","../Logger"],function(t,r,n){var i,o,s,u,l,a,c;return c=t("../types/type"),l=t("../types/isPlain"),u=t("../types/isHash"),s=t("../collections/array/isEqualArraySet"),a=new(t("../Logger"))("uberscore/isEqual"),o=function(t,r,n,a,p){var f,d,h,g,y,v,b,m,x;if(null==p&&(p=o.defaults),u(n)&&(p=e.defaults(n,p)),p!==o.defaults&&e.defaults(p||(p={}),o.defaults),p.callback&&(n=p.callback),p.ctx&&(a=p.ctx),e.isFunction(n)){if(n.optioned||(h=n,n=function(e,t){return h.call(this,e,t,p)},n.optioned=!0,p.callback&&(p.callback=n)),g=n.call(a,t,r),void 0!==g)return g?!0:!1}else n=void 0,p.callback=void 0;if(t===r)return!0;if(e.isFunction(null!=t?t.isEqual:void 0))return t.isEqual(r);if(e.isFunction(null!=r?r.isEqual:void 0))return r.isEqual(t);if(e.isEqual(o.defaults,e.pick(p,e.keys(o.defaults))))return e.isEqual(t,r,n,a);if(!p.onlyProps||!e.isObject(r)||!e.isObject(t)&&!p.like){if(c(t)!==c(r))return!1;if(y=function(t){return l(t)||e.isFunction(t)},y(t)||y(r)){if(!e.isEqual(t,r,n,a))return!1;if(!p.allProps)return!0}}if(f=i(t,p),d=i(r,p),!(p.like||f.length===d.length&&s(f,d)))return e.isArray(p.path)&&((v=e.difference(f,d)[0])||(v=e.difference(d,f)[0]),p.path.push(v)),!1;for(m=0,x=f.length;x>m;m++){if(b=f[m],e.isArray(p.path)&&p.path.push(b),p.exact&&t[b]!==r[b])return!1;if(!o(t[b],r[b],n,a,p))return!1;e.isArray(p.path)&&p.path.pop()}return!0},o.defaults={inherited:!1,exact:!1,like:!1,path:void 0,exclude:[],allProps:!1,onlyProps:!1},i=function(t,r){var n,i,o,s,u,l,a;if(null==r&&(r={}),i=function(t){return e.any(r.exclude,function(e){return e+""==t+""})},!e.isArray(t)||r.allProps||r.onlyProps){a=[];for(o in t)i(o)||!r.inherited&&!{}.hasOwnProperty.call(t,o)||a.push(o);return a}for(l=[],n=s=0,u=t.length;u>=0?u>s:s>u;n=u>=0?++s:--s)i(n)||l.push(n);return l},n.exports=o,n.exports}),d("objects/isIqual",["require","exports","module","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.inherited=!0,(o.exclude||(o.exclude=[])).push("constructor"),n(e,t,r,i,o)},r.exports=i,r.exports}),d("objects/isExact",["require","exports","module","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.exact=!0,n(e,t,r,i,o)},r.exports=i,r.exports}),d("objects/isIxact",["require","exports","module","./isIqual"],function(e,t,r){var n,i;return n=e("./isIqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.exact=!0,n(e,t,r,i,o)},r.exports=i,r.exports}),d("objects/isLike",["require","exports","module","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.like=!0,n(e,t,r,i,o)},r.exports=i,r.exports}),d("types/isTrue",["require"],function(){return function(t){return e.isEqual(t,!0)}}),d("types/isFalse",["require"],function(){return function(t){return e.isEqual(t,!1)}}),d("certain",["require","exports","module","./types/isHash"],function(t,r,n){var i,o;return o=t("./types/isHash"),i=function(t,r,n,i){if(null==i&&(i=!1),!o(t)&&!e.isFunction(t))throw"Error: _B.certain: o is neither an Object or Function.\no="+JSON.stringify(t,null,"");return e.isUndefined(r)&&(r="*"),function(o){var s,u,l;if(s=null!=(u=null!=(l=t[o])?l:t[r])?u:n,i&&e.isUndefined(s))throw"Error: _B.certain: defaultKey is undefined.\n  defaultVal is also undefined.\n  key='"+o+"' (o["+o+"] is obviously undefined too)\n  defaultKey='"+r+"'\n  o="+JSON.stringify(t,null,"");return s}},n.exports=i,n.exports}),d("utils/CalcCachedProperties",["require","./CoffeeUtils","../Logger"],function(t,r){var n,i;return i=new(t("../Logger"))("uberscore/utils/CalcCachedProperties"),n=function(t){function r(){this.defineCalcProperties()}var n,i,o;return l(r,t),o=function(e){return"__$$"+e+"__$$"},i=o("cache"),n={cUndefined:!0},r.prototype.getAllCalcProperties=function(e){var t,r,n,i,o,s,u,l;for(null==e&&(e=this),i={},u=this.getClasses(e),o=0,s=u.length;s>o;o++){t=u[o],l=t.calcProperties;for(n in l)r=l[n],i[n]=r}return i},r.getAllCalcProperties=r.prototype.getAllCalcProperties,Object.defineProperties(r.prototype,{allCalcProperties:{get:function(){return this.constructor.prototype.hasOwnProperty("_allCalcProperties")||Object.defineProperty(this.constructor.prototype,"_allCalcProperties",{value:this.getAllCalcProperties(),enumerable:!1}),this.constructor.prototype._allCalcProperties}},classes:{get:function(){return this.constructor.prototype.hasOwnProperty("_classes")||Object.defineProperty(this.constructor.prototype,"_classes",{value:this.getClasses(),enumerable:!1}),this.constructor.prototype._classes}}}),r.prototype.defineCalcProperties=function(e){var t,r,o;Object.defineProperty(this,i,{value:{},enumerable:!1,configurable:!1,writeable:!1}),o=this.allCalcProperties;for(r in o)t=o[r],this[i][r]=n,(!this.constructor.prototype.hasOwnProperty(r)||e)&&!function(e){return function(t,r){return Object.defineProperty(e.constructor.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this[i][t]===n&&(this[i][t]=r.call(this)),this[i][t]},set:function(e){return this[i][t]=e}})}}(this)(r,t);return null},r.prototype.cleanProps=function(){var t,r,o,s,u,l,c,p,f;for(r=1<=arguments.length?a.call(arguments,0):[],e.isEmpty(r)&&(r=e.keys(this.allCalcProperties)),o=[],l=0,p=r.length;p>l;l++)if(t=r[l])if(e.isFunction(t))for(u||(u=e.keys(this.allCalcProperties)),c=0,f=u.length;f>c;c++)s=u[c],t(s)&&this[i][s]!==n&&(this[i][s]=n,o.push(s));else this[i][t]!==n&&(this[i][t]=n,o.push(t));return o},r}(r)}),d("uberscore",["require","exports","module","./blending/blenders/index","./blending/Blender","./blending/traverse","./blending/clone","./objects/okv","./objects/mutate","./objects/setp","./objects/getp","./objects/isDisjoint","./objects/isRefDisjoint","./objects/getRefs","./objects/getInheritedPropertyNames","./objects/isEqual","./objects/isIqual","./objects/isExact","./objects/isIxact","./objects/isLike","./types/isTrue","./types/isFalse","./collections/go","./collections/array/isEqualArraySet","./collections/array/arrayize","./agreement/isAgree","./agreement/inAgreements","./types/type","./types/isPlain","./types/isHash","./Logger","./certain","./utils/CoffeeUtils","./utils/CalcCachedProperties","./utils/subclass"],function(n,i,o){var s=function(t){"use strict";
var r,n="0.0.17";return new(r=function(){function r(){}var i,o,s,u;r.prototype.VERSION="undefined"==typeof n||null===n?"{NO_VERSION}":n,r.prototype._=e,r.prototype.isLodash=function(t){return null==t&&(t=e),"lodash"===e.name||e.isFunction(t.isPlainObject)&&e.isFunction(t.merge)&&e.isFunction(t.omit)},s={Blender:t("./blending/Blender"),traverse:t("./blending/traverse"),clone:t("./blending/clone"),okv:t("./objects/okv"),mutate:t("./objects/mutate"),setp:t("./objects/setp"),getp:t("./objects/getp"),isDisjoint:t("./objects/isDisjoint"),isRefDisjoint:t("./objects/isRefDisjoint"),getRefs:t("./objects/getRefs"),getInheritedPropertyNames:t("./objects/getInheritedPropertyNames"),isEqual:t("./objects/isEqual"),isIqual:t("./objects/isIqual"),isExact:t("./objects/isExact"),isIxact:t("./objects/isIxact"),isLike:t("./objects/isLike"),isTrue:t("./types/isTrue"),isFalse:t("./types/isFalse"),isOk:function(e){return!!e},go:t("./collections/go"),isEqualArraySet:t("./collections/array/isEqualArraySet"),arrayize:t("./collections/array/arrayize"),isAgree:t("./agreement/isAgree"),inAgreements:t("./agreement/inAgreements"),type:t("./types/type"),isPlain:t("./types/isPlain"),isHash:t("./types/isHash"),Logger:t("./Logger"),certain:t("./certain"),CoffeeUtils:t("./utils/CoffeeUtils"),CalcCachedProperties:t("./utils/CalcCachedProperties"),subclass:t("./utils/subclass")};for(i in s)o=s[i],r.prototype[i]=o;u=t("./blending/blenders/index");for(i in u)o=u[i],r.prototype[i]=o;return r}())}.call(this,n,i,o),u=t._B,l=t.uberscore;return r||(t._B=s,t.uberscore=s,s.noConflict=function(){return t._B=u,t.uberscore=l,s}),s});var h=f("agreement/isAgree");return f("uberscore")};return r?define("uberscore",["lodash"],p):n?module.exports=p(require("lodash")):p("undefined"!=typeof _?_:void 0)}).call(this,"object"==typeof exports?global:window,"object"==typeof exports?global:window);