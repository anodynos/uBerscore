/**
* uberscore https://github.com/anodynos/uBerscore
*
* uBerscore js is (still) an early experiment: a 'higher' level data manipulator for all kinds of js collections (objects+arrays); it offers functionality & shortcuts that underscore doesn't, wouldn't, shouldn't have.
* Version 0.0.18 - Compiled on 2016-02-24 21:19:14
* Repository git://github.com/anodynos/uBerscore
* Copyright(c) 2016 Agelos Pikoulas <agelos.pikoulas@gmail.com>
* License MIT http://www.opensource.org/licenses/mit-license.php
*/

// Generated by uRequire v0.7.0-beta.25 target: 'min' template: 'combined'
// Combined template optimized with RequireJS/r.js v2.1.22 & almond v0.3.1.
(function(e,t){var r=!("function"!=typeof define||!define.amd),n="object"==typeof exports,i=!n,o=n?require:function(e){throw new Error("uRequire: combined template 'min', trying to load `node` dep `"+e+"` in non-nodejs runtime (browser).")},s=function(e,t){throw new Error("uRequire: combined template 'min', detected missing dependency `"+e+"` - all it's known binding variables `"+t+"` were undefined")},u=function(e,t){throw new Error("uRequire: combined template 'min', trying to access unbound / excluded `"+t+"` dependency `"+e+"` on browser")},l=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function r(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty,p=[].slice,f=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1},d=function(e){var s,d,h;return function(e){function t(e,t){return x.call(e,t)}function r(e,t){var r,n,i,o,s,u,l,a,c,p,f,d=t&&t.split("/"),h=v.map,g=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),s=e.length-1,v.nodeIdCompat&&j.test(e[s])&&(e[s]=e[s].replace(j,"")),e=d.slice(0,d.length-1).concat(e),c=0;c<e.length;c+=1)if(f=e[c],"."===f)e.splice(c,1),c-=1;else if(".."===f){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||g)&&h){for(r=e.split("/"),c=r.length;c>0;c-=1){if(n=r.slice(0,c).join("/"),d)for(p=d.length;p>0;p-=1)if(i=h[d.slice(0,p).join("/")],i&&(i=i[n])){o=i,u=c;break}if(o)break;!l&&g&&g[n]&&(l=g[n],a=c)}!o&&l&&(o=l,u=a),o&&(r.splice(0,u,o),e=r.join("/"))}return e}function n(t,r){return function(){var n=E.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(e,n.concat([t,r]))}}function i(e){return function(t){return r(t,e)}}function o(e){return function(t){y[e]=t}}function u(r){if(t(b,r)){var n=b[r];delete b[r],m[r]=!0,c.apply(e,n)}if(!t(y,r)&&!t(m,r))throw new Error("No "+r);return y[r]}function l(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function a(e){return function(){return v&&v.config&&v.config[e]||{}}}var c,p,f,g,y={},b={},v={},m={},x=Object.prototype.hasOwnProperty,E=[].slice,j=/\.js$/;f=function(e,t){var n,o=l(e),s=o[0];return e=o[1],s&&(s=r(s,t),n=u(s)),s?e=n&&n.normalize?n.normalize(e,i(t)):r(e,t):(e=r(e,t),o=l(e),s=o[0],e=o[1],s&&(n=u(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:n}},g={require:function(e){return n(e)},exports:function(e){var t=y[e];return"undefined"!=typeof t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:a(e)}}},c=function(r,i,s,l){var a,c,p,d,h,v,x=[],E=typeof s;if(l=l||r,"undefined"===E||"function"===E){for(i=!i.length&&s.length?["require","exports","module"]:i,h=0;h<i.length;h+=1)if(d=f(i[h],l),c=d.f,"require"===c)x[h]=g.require(r);else if("exports"===c)x[h]=g.exports(r),v=!0;else if("module"===c)a=x[h]=g.module(r);else if(t(y,c)||t(b,c)||t(m,c))x[h]=u(c);else{if(!d.p)throw new Error(r+" missing "+c);d.p.load(d.n,n(l,!0),o(c),{}),x[h]=y[c]}p=s?s.apply(y[r],x):void 0,r&&(a&&a.exports!==e&&a.exports!==y[r]?y[r]=a.exports:p===e&&v||(y[r]=p))}else r&&(y[r]=s)},s=d=p=function(t,r,n,i,o){if("string"==typeof t)return g[t]?g[t](r):u(f(t,r).f);if(!t.splice){if(v=t,v.deps&&p(v.deps,v.callback),!r)return;r.splice?(t=r,r=n,n=null):t=e}return r=r||function(){},"function"==typeof n&&(n=i,i=o),i?c(e,t,r,n):setTimeout(function(){c(e,t,r,n)},4),p},p.config=function(e){return p(e)},s._defined=y,h=function(e,r,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");r.splice||(n=r,r=[]),t(y,e)||t(b,e)||(b[e]=[e,r,n])},h.amd={jQuery:!0}}(),h("almond",function(){}),h("util",[],function(){return n?o("util"):void u("util","node-only & local")}),h("types/type",["require","exports","module"],function(t,r,n){var i,o=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};return i=function(t,r){var n,o,s;null==r&&(r=!1),o=i.TYPES;for(n in o)if(s=o[n],e["is"+n](t))return r?s[0]:n;return"UNKNOWN"},i.toShort=function(e){var t,r,n;if(i.TYPES[e])return i.TYPES[e][0];r=i.TYPES;for(t in r)if(n=r[t],o.call(n,e)>=0)return n[0]},i.toLong=function(e){var t,r,n;if(i.TYPES[e])return e;r=i.TYPES;for(t in r)if(n=r[t],o.call(n,e)>=0)return t},i.areEqual=function(e,t){return i.toShort(e)===i.toShort(t)},i.isType=function(t){var r;return r=i.toLong(t),o.call(e.keys(i.TYPES),r)>=0},i.TYPES={Arguments:["args","..."],Array:["[]","A"],Function:["->","F"],String:["''","S",'""'],Date:["D"],RegExp:["//","R"],Number:["N"],Boolean:["B"],Object:["{}","O"],Null:["null","-"],Undefined:["U","void","?"]},n.exports=i,n.exports}),h("objects/getp",["require","exports","module"],function(t,r,n){var i,o;return i={separator:"/",stopKey:"#",terminateKey:void 0,defaultKey:"*",isReturnLast:!1},o=function(t,r,n){var o,s,u,l,a,c;if(null==n&&(n=i),n!==i&&e.defaults(n,i),!e.isArray(r))if(e.isString(r))r=r.split(n.separator);else{if(!e.isNumber(r)){if(void 0===r)return t;throw"_B.getp Error: invalid path: "+r}r=[r+""]}for(o=0,u=r.length;u>o;o++)if(a=r[o],a+""){if(void 0!==t&&(s=t),!e.isObject(t)){t=void 0;break}if(n.terminateKey&&t[n.terminateKey]){c={},c[n.terminateKey]=t[n.terminateKey],t=c;break}if(void 0!==(l=t[a]))t=l;else{if(n.stopKey&&void 0!==t[n.stopKey]){t=t[n.stopKey];break}t=n.defaultKey&&t[n.defaultKey]?t[n.defaultKey]:void 0}}return void 0===t&&n.isReturnLast?s:t},n.exports=o,n.exports}),h("types/isHash",["require","exports","module","./type"],function(e,t,r,n){return function(e){return"Object"===n(e)}}),h("utils/CoffeeUtils",["require","exports","module"],function(e,t,r){var n;return n=function(){function e(){}return e.prototype.getClasses=function(e,t){return null==t&&(t=[]),e||(e=this),"function"!=typeof e&&(e=e.constructor),t.unshift(e),e.__super__?this.getClasses(e.__super__.constructor,t):t},e.getClasses=e.prototype.getClasses,e}()}),h("utils/subclass",["require","exports","module"],function(t,r,n){var i;return i=n.exports=function(t,r){var n,i,o;return o=this,i=void 0,i=t&&e.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},e.extend(i,o,r),n=function(){return this.constructor=i,this},n.prototype=o.prototype,i.prototype=new n,t&&e.extend(i.prototype,t),i.__super__=o.prototype,i},n.exports}),h("agreement/isAgree",["require","exports","module"],function(t,r,n){return function(t,r){return e.isRegExp(r)?r.test(t+""):e.isFunction(r)?r(t):void 0===r?!0:e.isEqual(t,r)?!0:t+""==r+""}}),h("collections/array/arrayize",["require","exports","module","../../agreement/isAgree"],function(t,r,n){var i,o;return i=t("../../agreement/isAgree"),o=function(t){return e.isArray(t)?t:e.isUndefined(t)||e.isNull(t)?[]:[t]},n.exports=o,n.exports}),h("agreement/inAgreements",["require","exports","module","../collections/array/arrayize","./isAgree"],function(t,r,n){var i,o;return i=t("../collections/array/arrayize"),o=t("./isAgree"),n.exports=function(t,r){var n,s,u;if(r=i(r),e.isEmpty(r))return!1;for(s=0,u=r.length;u>s;s++)if(n=r[s],o(t,n))return!0;return!1},n.exports}),h("objects/setp",["require","exports","module"],function(t,r,n){var i,o;return i={separator:"/",create:!0,overwrite:!1},o=function(t,r,n,o){var s,u,l,a,c;if(null==o&&(o=i),o!==i&&e.defaults(o,i),!e.isArray(r)){if(!e.isString(r))throw"_B.setp Error: invalid path: "+r+".\nUse either an Array, eg ['path1', 'path2']\nor `separator`-ed String, eg 'path1.path2'";r=r.split(o.separator),r=function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)a=r[e],a&&n.push(a);return n}()}if(!e.isObject(t))throw"_B.setp Error: invalid object: "+t;for(c=s=0,u=r.length;u>s;c=++s){if(a=r[c],!e.isObject(t[a]))if(o.create||o.overwrite)l=null,e.isUndefined(t[a])?l={}:o.overwrite&&(l={},e.isString(o.overwrite)&&(l[o.overwrite]=t[a])),l&&(t[a]=l);else if(e.isUndefined(t[a]))return!1;c<r.length-1&&(t=t[a])}return e.isObject(t)?(t[a]=n,!0):!1},n.exports=o,n.exports}),h("Logger",["require","exports","module","./agreement/inAgreements","./objects/setp","./objects/getp"],function(t,r,o){var s,u,l,a,c=[].slice;return l=t("./agreement/inAgreements"),a=t("./objects/setp"),u=t("./objects/getp"),o.exports=s=function(){function r(e,t){null==e&&(e=[]),this.debugLevel=t,this.setDebugPath(e),r.loggerCount=(r.loggerCount||0)+1}var o,s,p,f,d,h,g,y,b,v,m,x,E,j,w,P,B,_,q,O,D,A,S;O=function(t,n,o){return function(){var s,u,l,a,p,f,d,h,g,y;u=1<=arguments.length?c.call(arguments,0):[],e.isString(u[0])&&(h=q(u[0]),u[0]=u[0].slice(h)),u=function(){var e,t,n;for(n=[],e=0,t=u.length;t>e;e++)s=u[e],n.push(r.prettify(s));return n}(),y=""+(e.isEmpty("undefined"!=typeof this&&null!==this?this.debugPath:void 0)?"Logger"+r.loggerCount+" ":"["+this.debugPath.join("/")+"] ")+t,y&&(y+=":"),u.unshift(y),"undefined"!=typeof i&&null!==i&&i||u.unshift(""+n),u.unshift(function(){var e,t,r;for(r=[],p=e=1,t=h;t>=e;p=e+=1)r.push("\n");return r}().join("")),"undefined"!=typeof i&&null!==i&&i||u.push(E),o.apply(console,u);try{return u.join("")}catch(a){for(l=a,g="",f=0,d=u.length;d>f;f++)s=u[f],g+=Object.prototype.toString(s);return g}}},q=function(e){var t;for(t=0;"\n"===e[t];)t++;return t},_=function(t){var r,n,i,o,s;if(e.isString(t)){for(o=t.split("/"),s=[],r=0,n=o.length;n>r;r++)i=o[r],i&&s.push(i);return s}return e.isUndefined(t)?[]:e.isArray(t)?t:[t]},r.prototype.setDebugPath=function(e){return this.debugPath=_(e)},r.addDebugPathLevel=function(t,n){if(e.isNaN(1*n))throw new Error("debugLevel '"+n+"' isNaN (Not a Number or not Number parsable)");return t=e.clone(_(t)),t.unshift("debugPathsLevels"),t.push("_level"),a(r,t,1*n,{create:!0})},r.prototype.getDebugPathLevel=function(t){var n,i,o;for(null==t&&(t=this.debugPath),i=e.clone(t),o=u(r.debugPathsLevels,i),n=i.pop();e.isUndefined(null!=o?o._level:void 0)&&n;)o=u(r.debugPathsLevels,i),n=i.pop();return null!=o?o._level:void 0},r.prototype.isDebug=function(t){var n;if(e.isNumber(r.maxDebugLevel)&&t>r.maxDebugLevel)return!1;if(e.isNumber(this.debugLevel)){if(t>this.debugLevel)return!1}else if(e.isNumber(n=this.getDebugPathLevel())){if(t>n)return!1}else if(t>1)return!1;return!0},r.prototype.deb=function(){var t;return t=O("DEBUG","[35m",console.log),function(){var r,n,i,o,s;return n=arguments[0],i=2<=arguments.length?c.call(arguments,1):[],e.isEmpty(i)&&e.isNumber(n)?this.isDebug(this.lastDebugLevelCheck=n):(e.isNumber(n)?i.unshift("("+n+")"):(i.unshift(n),n=null!=(s=this.lastDebugLevelCheck)?s:1,i.unshift(this.lastDebugLevelCheck?"(?"+this.lastDebugLevelCheck+")":"(!1)")),e.isString(i[1])&&(o=q(i[1]),i[1]=i[1].slice(o),i[0]=function(){var e,t,n;for(n=[],r=e=1,t=o;t>=e;r=e+=1)n.push("\n");return n}().join("")+i[0]),delete this.lastDebugLevelCheck,this.isDebug(n)?t.apply(this,i):void 0)}}(),r.prototype.debug=r.prototype.deb,r.prettify="undefined"!=typeof n&&null!==n&&n?function(t){var r;return r=function(){var e,t,r,n,i,o;for(i=[],n=process.version.slice(1).split("."),e=t=0,r=n.length;r>t;e=++t)o=n[e],i[e]=1*o;return i[0]>0||i[1]>9?!1:9===i[1]?i[2]<=2?!0:!1:!0}(),function(n){var i;return i=r?"[0m"+t(n,!1,null,!0):"[0m"+t(n,{showHidden:!1,depth:null,colors:!0}),e.isArray(n)&&i.replace(/\n/g,""),l(n,[e.isObject,e.isRegExp])?i:n}}(t("util").inspect):function(e){return e},r.prototype.prettify=r.prettify,r.prototype.err=O("ERROR",m,console.error),r.prototype.er=O("ERRor",x,console.log),r.prototype.warn=O("WARNING",B,console.log),r.prototype.verbose=O("",h,console.log),r.prototype.ver=r.prototype.verbose,r.prototype.ok=O("",y,console.log),r.prototype.log=O("",E,console.log),E="[0m",o="[30m",m="[31m",g="[32m",P="[33m",p="[34m",b="[35m",d="[36m",j="[37m",s="[30;1m",x="[31;1m",y="[32;1m",B="[33;1m",f="[34;1m",v="[35;1m",h="[36;1m",w="[37;1m",r.logger=new r("DefaultLogger"),A=r.prototype;for(D in A)S=A[D],e.isFunction(S)?r[D]=e.bind(S,r.logger):r[D]=S;return r}(),o.exports}),h("blending/Blender",["require","exports","module","../types/type","../objects/getp","../types/isHash","../utils/CoffeeUtils","../utils/subclass","../Logger"],function(t,r,n,i,o,s,u){var f,d;return s=t("../types/isHash"),f=function(){function e(e){this.name=e}return e}(),d=function(r){function n(){var r,n,i,o,u,a,c,f,d,h,g,y;for(o=1<=arguments.length?p.call(arguments,0):[],this.blenderBehaviors=o,this.write=l(this.write,this),this._blend=l(this._blend,this),this.blend=l(this.blend,this),this.getNextAction=l(this.getNextAction,this),this.getAction=l(this.getAction,this),e.isArray(this.blenderBehaviors[0])&&(s(this.blenderBehaviors[1])&&e.extend(this,this.blenderBehaviors[1]),this.blenderBehaviors=this.blenderBehaviors[0]),this.l=new(t("../Logger"))("uberscore/Blender",this.debugLevel),h=this.getClasses(),a=h.length-1;a>=0;a+=-1)r=h[a],r.behavior&&this.blenderBehaviors.push(r.behavior);f=e.last(this.blenderBehaviors);for(y in f)u=f[y],e.isUndefined(u["*"])&&(u["*"]||(u["*"]=f["*"]["*"]));for(g=this.blenderBehaviors,i=c=0,d=g.length;d>c;i=++c)n=g[i],this.blenderBehaviors[i]=this.adjustBlenderBehavior(n);this.path=[]}return a(n,r),n.subclass=t("../utils/subclass"),n.prototype.inherited=!1,n.prototype.copyProto=!1,n.prototype.pathTerminator="|",n.prototype.isExactPath=!0,n.prototype.pathSeparator=":",n.prototype.debugLevel=0,n.prototype.defaultBBOrder=["src","dst"],n.prototype.adjustBlenderBehavior=function(e){return e.order||(e.order=this.defaultBBOrder),this._adjustBbSrcDstPathSpec(e,e.order)},n.prototype._adjustBbSrcDstPathSpec=function(e,t){var r,n,o,u,l,a,c,p,f,d,h;if(t.length>0)if(r=t[0],"path"===r)for(u in e)if(h=e[u],u===this.pathTerminator)s(h)&&this._adjustBbSrcDstPathSpec(h,t.slice(1));else{if(f=this.pathSeparator?function(){var e,t,r,n;for(r=u.split(this.pathSeparator),n=[],e=0,t=r.length;t>e;e++)p=r[e],p&&n.push(p.trim());return n}.call(this):[],f.length>1){for(a=e,n=o=0,l=f.length;l>o;n=++o)c=f[n],a[c]||(a[c]={}),n<f.length-1?a=a[c]:a[c]=h;delete e[u]}else f[0]&&u!==f[0]&&(e[f[0]]=h,delete e[u]);s(h)&&this._adjustBbSrcDstPathSpec(h,t)}else for(u in e)h=e[u],i.isType(u)&&(d=i.toShort(u),d&&u!==d&&(e[d]=e[u],delete e[u])),s(h)&&this._adjustBbSrcDstPathSpec(h,t.slice(1));return e},n.prototype.getAction=function(t,r){var n,i,o,s,u;for(null==r&&(r=this.currentBlenderBehaviorIndex),u=this.blenderBehaviors,i=o=0,s=u.length;s>o;i=++o)if(n=u[i],i>=r&&e.isFunction(n[t]))return e.bind(n[t],this);if(e.isFunction(this[t]))return e.bind(this[t],this);throw this.l.err("_B.Blender.blend: Error: Invalid BlenderBehavior `actionName` = ",t," - no Function by that name is found in a preceding BlenderBehavior or Blender it self."," belowBlenderBehaviorIndex="+r," @currentBlenderBehaviorIndex="+this.currentBlenderBehaviorIndex," @blenderBehaviors=",this.blenderBehaviors)},n.prototype.getNextAction=function(t,r,n){var i,u,l,a,c,p;for(u=t,p=t.order,l=0,a=p.length;a>l&&(i=p[l],!(void 0===u||e.isString(u)||e.isFunction(u)||u instanceof f));l++){if(e.isUndefined(n[i]))throw this.l.err("_.Blender.blend: Error: Invalid BlenderBehavior `order` '"+i+"',\nwhile reading BlenderBehavior #"+r+" :\n",this.blenderBehaviors[r],"\n\nDefault BlenderBehavior order is ",this.defaultBBOrder);"path"===i?(c=o(u,this.path.slice(1),{terminateKey:this.isExactPath?void 0:this.pathTerminator}),s(c)&&(c=c[this.pathTerminator])):c=u[n[i]]||u["*"],u=c}return u},n.prototype.blend=function(){var t,r,n,i,o,s;if(t=arguments[0],o=2<=arguments.length?p.call(arguments,1):[],e.isEmpty(this.path)){for((e.isUndefined(o)||e.isEmpty(o))&&(o=[t],t=this.createAs(t)),r={$:t},this.dstRoot=t,n=0,i=o.length;i>n;n++)s=o[n],this.srcRoot=s,this._blend(r,{$:s});return r.$}return this._blend.apply(this,arguments)},n.prototype._blend=function(){var t,r,n,o,s,u,l,a,c,d,h,g,y,b,v,m,x,E;for(o=arguments[0],m=2<=arguments.length?p.call(arguments,1):[],s=0,a=m.length;a>s;s++)for(x=m[s],y=this.properties(x),u=0,c=y.length;c>u;u++){for(g=y[u],this.path.push(g),E=!0,b=this.blenderBehaviors,n=l=0,d=b.length;d>l;n=++l)if(r=b[n],E&&(this.currentBlenderBehaviorIndex=n,this.currentBlenderBehavior=this.blenderBehaviors[n],h=this.getNextAction(r,n,{dst:i(this.read(o,g),!0),src:i(this.read(x,g),!0),path:this.path}),void 0!==h)){if(t=h,!e.isFunction(t))if(e.isString(t))t=this.getAction(t,n);else{if(!(t instanceof f))throw this.l.err("_B.Blender.blend: Invalid `action` (neither 'Function' nor 'String'): ",t);v=t}t instanceof f||(v=t.call(this,g,x,o,this)),E=!1,v instanceof f?((v===this.DELETE||v===this.DELETE_NEXT)&&this["delete"](o,g),(v===this.NEXT||v===this.DELETE_NEXT)&&(E=!0)):(e.isArray(v)&&v[0]===this.NEXT&&(v=v[1],E=!0),this.resultHandler(o,g,v))}this.path.pop()}return o},n.prototype.createAs=function(t){return e.isArray(t)?[]:this.copyProto?Object.create(Object.getPrototypeOf(t)):{}},n.prototype.read=function(t,r){if(e.isUndefined(r))throw"Read without a prop";return t[r]},n.prototype.write=function(t,r,n){if(e.isUndefined(r))throw"Write without a prop";return t[r]=n,n},n.prototype["delete"]=function(t,r){if(e.isUndefined(r))throw"Delete without a prop";return delete t[r]},n.prototype.properties=function(t){var r,n,i,o,s,u,l;if(e.isArray(t)){for(o=[],i=r=0,n=t.length;n>r;i=++r)l=t[i],o.push(i);return o}if(this.inherited){s=[];for(i in t)s.push(i);return s}u=[];for(i in t)c.call(t,i)&&u.push(i);return u},n.prototype.copy=function(e,t){var r,n,i,o;for(o=this.properties(t),r=0,n=o.length;n>r;r++)i=o[r],this.write(e,i,this.read(t,i));return e},n.prototype.resultHandler=n.prototype.write,n.prototype.overwrite=function(e,t){return this.read(t,e)},n.prototype.deepOverwrite=function(e,t,r){var n;return this.copyProto&&({}.__proto__===Object.prototype?this.read(r,e).__proto__=this.read(t,e).__proto__:(n=Object.create(Object.getPrototypeOf(this.read(t,e))),this.copy(n,this.read(r,e)),this.write(r,e,n))),this.blend(this.read(r,e),this.read(t,e))},n.prototype.arrayAppend=function(e,t,r){var n,i,o,s,u,l;for(s=[this.read(t,e),this.read(r,e)],l=s[0],n=s[1],i=0,o=l.length;o>i;i++)u=l[i],n.push(u);return n},n.behavior={order:["dst","src"],"*":{"*":"overwrite"},"[]":{"[]":"deepOverwrite","{}":"deepOverwrite","->":"deepOverwrite"},"{}":{"{}":"deepOverwrite","[]":"deepOverwrite","->":"deepOverwrite"},"->":{"{}":"deepOverwrite","[]":"deepOverwrite","->":"deepOverwrite"}},n.SKIP=new f("SKIP"),n.prototype.SKIP=n.SKIP,n.NEXT=new f("NEXT"),n.prototype.NEXT=n.NEXT,n.DELETE=new f("DELETE"),n.prototype.DELETE=n.DELETE,n.DELETE_NEXT=new f("DELETE_NEXT"),n.prototype.DELETE_NEXT=n.DELETE_NEXT,n}(u)}),h("blending/blenders/DeepCloneBlender",["require","exports","module","../../types/type","../Blender"],function(e,t,r,n){var i;return i=e("../Blender").subclass({},{behavior:{order:["dst","src"],"*":{"[]":"deepCloneOverwrite","{}":"deepCloneOverwrite","->":function(e,t){return this.read(t,e)},Undefined:function(){return this.SKIP}},deepCloneOverwrite:function(e,t,r){var i,o,s;return s=n(this.read(t,e)),i=n(this.read(r,e)),i!==s&&(o=["Function","Object"],f.call(o,i)>=0&&f.call(o,s)>=0||this.write(r,e,"Array"===s?[]:{})),this.deepOverwrite(e,t,r)}}})}),h("blending/blenders/DeepExtendBlender",["require","exports","module","../Blender","../../Logger"],function(t,r,n,i){var o,s;return s=new(t("../../Logger"))("uberscore/DeepExtendBlender"),o=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return a(r,t),r.behavior={order:["src","dst"],String:{"*":"overwriteOrReplace"},"[]":{"[]":function(t,r,n){return e.reject(this.deepOverwrite(t,r,n),function(e){return null===e||void 0===e})},"*":function(e,t,r){throw"deepExtend: Error: Trying to combine an array with a non-array.\n\nProperty: "+e+"\ndestination[prop]: "+s.prettify(r[e])+"\nsource[prop]: "+s.prettify(t[e])}},"{}":{"{}":function(e,t,r){var n,i,o,s;o=n=this.getAction("deepOverwrite")(e,t,r);for(i in o)s=o[i],(null===s||void 0===s)&&delete n[i];return n},"*":function(e,t,r){throw"deepExtend: Error trying to combine a PlainObject with a non-PlainObject.\n\nProperty: "+e+"\ndestination[prop]: "+s.prettify(r[e])+"\nsource[prop]: "+s.prettify(t[e])}},overwriteOrReplace:function(t,r,n){var i;return i=/\${\s*?_\s*?}/,e.isString(r[t])&&i.test(r[t])?e.isString(n[t])?r[t].replace(i,n[t]):n[t]:r[t]}},r}(i)}),h("blending/blenders/DeepDefaultsBlender",["require","exports","module","../../types/type","./DeepCloneBlender"],function(e,t,r,n,i){var o;return o=i.subclass({},{behavior:{order:["dst","src"],Undefined:function(){return this.NEXT},Null:function(){return this.NEXT},"{}":{"{}":function(){return this.NEXT},"->":function(){return this.NEXT},"*":function(){return this.SKIP}},"->":{"{}":function(){return this.NEXT},"->":function(){return this.NEXT},"*":function(){return this.SKIP}},"[]":{"[]":function(){return this.NEXT},"*":function(){return this.SKIP}},"*":function(){return this.SKIP}}})}),h("blending/blenders/ArrayizeBlender",["require","exports","module","../../collections/array/arrayize","./DeepCloneBlender"],function(t,r,n,i){var o;return o=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return a(r,t),r.prototype.addMethod="push",r.prototype.unique=!1,r.prototype.reverse=!1,r.behavior={order:["src"],"*":"addToArray",addToArray:function(t,r,n){var o,s,u,l,a,c;for(o=this.write(n,t,i(this.read(n,t))),a=i(this.read(r,t)),e.isEqual(a[0],[null])&&(o=this.write(n,t,[]),a=a.slice(1)),u=this.unique?function(){var e,t,r;for(r=[],e=0,t=a.length;t>e;e++)c=a[e],f.call(o,c)<0&&r.push(c);return r}():e.clone(a),this.reverse&&u.reverse(),s=0,l=u.length;l>s;s++)c=u[s],o[this.addMethod](c);return o}},r}(t("./DeepCloneBlender"))}),h("blending/blenders/index",["require","exports","module","./DeepCloneBlender","./DeepExtendBlender","./DeepDefaultsBlender","./ArrayizeBlender"],function(e,t,r){return r.exports={DeepCloneBlender:e("./DeepCloneBlender"),DeepExtendBlender:e("./DeepExtendBlender"),DeepDefaultsBlender:e("./DeepDefaultsBlender"),ArrayizeBlender:e("./ArrayizeBlender")},r.exports}),h("blending/traverse",["require","exports","module","./Blender"],function(e,t,r){var n,i;return n=e("./Blender"),i=function(e,t){var r,i,o;return r={},i=!0,o=new n([{order:["src"],"[]":"traverse","{}":"traverse","->":"traverse","*":n.SKIP,traverse:function(n,o,s,u){return this.read(o,n)!==e&&(i=t.call(this,n,o,u)),i!==!1&&this.blend(r,this.read(o,n)),this.SKIP}}],{debugLevel:0}),o.blend(r,e)},r.exports=i,r.exports}),h("blending/clone",["require","exports","module","./blenders/DeepCloneBlender"],function(t,r,n){var i,o;return i=t("./blenders/DeepCloneBlender"),o=function(t,r){return r?r===!0||r.deep?new i([],r).blend(t):new i([{"*":{"*":"overwrite"}}],r).blend(t):e.clone(t,r)},n.exports=o,n.exports}),h("objects/okv",["require","exports","module"],function(t,r,n){var i,o=[].slice;return i=function(){var t,r,n,i,s,u;if(u=arguments[0],i=2<=arguments.length?o.call(arguments,1):[],e.isString(u)&&(i.unshift(u),u={}),e.isObject(u)){for(r=t=0,s=i.length;s>t;r=t+=2)n=i[r],r+1<i.length&&(u[n+""]=i[r+1]);return u}return null},n.exports=i,n.exports}),h("objects/mutate",["require","exports","module","../agreement/isAgree"],function(t,r,n){var i=t("../agreement/isAgree"),o=function(t,r,n){return e.isFunction(r)&&e.each(t,function(e,o){return i(e,n)?t[o]=r(e,o):void 0}),t};return n.exports=o,n.exports}),h("objects/isDisjoint",["require","exports","module"],function(t,r,n){var i;return i=function(t,r,n){var i;return null==n&&(n=function(e,t){return e===t}),i=!1,e.each(t,function(t){return e.some(r,function(e){return n(t,e)})?(i=!0,!1):void 0}),!i},n.exports=i,n.exports}),h("objects/getRefs",["require","exports","module"],function(t,r,n){var i,o,s={}.hasOwnProperty;return o={deep:!1,inherited:!1},i=function(t,r,n){var u,l,a,c,p;for(null==r&&(r=o),null==n&&(n=[]),r!==o&&e.defaults(r,o),a=r.inherited?function(){var e;e=[];for(l in t)e.push(l);return e}():function(){var e;e=[];for(l in t)s.call(t,l)&&e.push(l);return e}(),u=0,c=a.length;c>u;u++)l=a[u],p=t[l],e.isObject(p)&&(n.push(p),r.deep&&i(p,r,n));return n},n.exports=i,n.exports}),h("objects/isRefDisjoint",["require","exports","module","./getRefs","./isDisjoint"],function(t,r,n){var i,o,s,u;return i=t("./getRefs"),o=t("./isDisjoint"),u={deep:!1,inherited:!1},s=function(t,r,n){var s,l;return null==n&&(n=u),n!==u&&e.defaults(n,u),t===r?!1:(s=i(t,n),s.unshift(t),l=i(r,n),l.unshift(r),o(s,l))},n.exports=s,n.exports}),h("objects/getInheritedPropertyNames",["require","exports","module"],function(t,r,n){var i,o;return o=function(e){return i(Object.getPrototypeOf(e))},i=function(t){var r;for(r=[];;){if(!t||void 0===t||e.isEmpty(t)&&!Object.getPrototypeOf(t))break;Object.getOwnPropertyNames(t).forEach(function(e){return-1===r.indexOf(e)&&"constructor"!==e?r.push(e):void 0}),t=Object.getPrototypeOf(t)}return r},n.exports=o,n.exports}),h("types/isPlain",["require","exports","module","./type"],function(e,t,r){function n(e,t){for(var r=-1,n=t.length>>>0;++r<n;)if(e===t[r])return!0;return!1}var i,o;return i=e("./type"),o=function(e){return n(i(e),o.PLAIN_TYPES)},o.PLAIN_TYPES=["String","Date","RegExp","Number","Boolean","Null","Undefined"],r.exports=o,r.exports}),h("collections/array/isEqualArraySet",["require","exports","module"],function(t,r,n){var i;return i=function(t,r,n){return 0===e.difference(t,r).length?0===e.difference(r,t).length:!1},n.exports=i,n.exports}),h("objects/isEqual",["require","exports","module","../types/type","../types/isPlain","../types/isHash","../collections/array/isEqualArraySet","../Logger"],function(t,r,n){var i,o,s,u,l,a,c;return c=t("../types/type"),l=t("../types/isPlain"),u=t("../types/isHash"),s=t("../collections/array/isEqualArraySet"),a=new(t("../Logger"))("uberscore/isEqual"),o=function(t,r,n,a,p){var f,d,h,g,y,b,v,m,x;if(null==p&&(p=o.defaults),u(n)&&(p=e.defaults(n,p)),p!==o.defaults&&e.defaults(p||(p={}),o.defaults),p.callback&&(n=p.callback),p.ctx&&(a=p.ctx),e.isFunction(n)){if(n.optioned||(h=n,n=function(e,t){return h.call(this,e,t,p)},n.optioned=!0,p.callback&&(p.callback=n)),g=n.call(a,t,r),void 0!==g)return g?!0:!1}else n=void 0,p.callback=void 0;if(t===r)return!0;if(e.isFunction(null!=t?t.isEqual:void 0))return t.isEqual(r);if(e.isFunction(null!=r?r.isEqual:void 0))return r.isEqual(t);if(e.isEqual(o.defaults,e.pick(p,e.keys(o.defaults))))return e.isEqual(t,r,n,a);if(!p.onlyProps||!e.isObject(r)||!e.isObject(t)&&!p.like){if(c(t)!==c(r))return!1;if(y=function(t){return l(t)||e.isFunction(t)},y(t)||y(r)){if(!e.isEqual(t,r,n,a))return!1;if(!p.allProps)return!0}}if(f=i(t,p),d=i(r,p),!(p.like||f.length===d.length&&s(f,d)))return e.isArray(p.path)&&((v=e.difference(f,d)[0])||(v=e.difference(d,f)[0]),p.path.push(v)),!1;for(b=0,m=f.length;m>b;b++){if(x=f[b],e.isArray(p.path)&&p.path.push(x),p.exact&&t[x]!==r[x])return!1;if(!o(t[x],r[x],n,a,p))return!1;e.isArray(p.path)&&p.path.pop()}return!0},o.defaults={inherited:!1,exact:!1,like:!1,path:void 0,exclude:[],allProps:!1,onlyProps:!1},i=function(t,r){var n,i,o,s,u,l,a;if(null==r&&(r={}),i=function(t){return e.some(r.exclude,function(e){return e+""==t+""})},!e.isArray(t)||r.allProps||r.onlyProps){a=[];for(s in t)i(s)||!r.inherited&&!{}.hasOwnProperty.call(t,s)||a.push(s);return a}for(l=[],n=o=0,u=t.length;u>=0?u>o:o>u;n=u>=0?++o:--o)i(n)||l.push(n);return l},n.exports=o,n.exports}),h("objects/isIqual",["require","exports","module","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.inherited=!0,(o.exclude||(o.exclude=[])).push("constructor"),n(e,t,r,i,o)},r.exports=i,r.exports}),h("objects/isExact",["require","exports","module","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.exact=!0,n(e,t,r,i,o)},r.exports=i,r.exports}),h("objects/isIxact",["require","exports","module","./isIqual"],function(e,t,r){var n,i;return n=e("./isIqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.exact=!0,n(e,t,r,i,o)},r.exports=i,r.exports}),h("objects/isLike",["require","exports","module","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.like=!0,n(e,t,r,i,o)},r.exports=i,r.exports}),h("types/isTrue",["require","exports","module"],function(t,r,n){return function(t){return e.isEqual(t,!0)}}),h("types/isFalse",["require","exports","module"],function(t,r,n){return function(t){return e.isEqual(t,!1)}}),h("certain",["require","exports","module","./types/isHash"],function(t,r,n){var i,o;return o=t("./types/isHash"),i=function(t,r,n,i){if(null==i&&(i=!1),!o(t)&&!e.isFunction(t))throw"Error: _B.certain: o is neither an Object or Function.\no="+JSON.stringify(t,null,"");return e.isUndefined(r)&&(r="*"),function(o){var s,u,l;if(l=null!=(s=null!=(u=t[o])?u:t[r])?s:n,i&&e.isUndefined(l))throw new Error("_B.certain: defaultKey is undefined.\n  defaultVal is also undefined.\n  key='"+o+"' (o["+o+"] is obviously undefined too)\n  defaultKey='"+r+"'\n  o="+JSON.stringify(t,null,""));return l}},n.exports=i,n.exports}),h("utils/CalcCachedProperties",["require","exports","module","./CoffeeUtils","../Logger"],function(t,r,n,i){var o,s;return s=new(t("../Logger"))("uberscore/utils/CalcCachedProperties"),o=function(t){function r(){this.defineCalcProperties()}var n,i,o;return a(r,t),o=function(e){return"__$$"+e+"__$$"},i=o("cache"),n={cUndefined:!0},r.prototype.getAllCalcProperties=function(e){var t,r,n,i,o,s,u,l;for(null==e&&(e=this),i={},u=this.getClasses(e),o=0,s=u.length;s>o;o++){t=u[o],l=t.calcProperties;for(n in l)r=l[n],i[n]=r}return i},r.getAllCalcProperties=r.prototype.getAllCalcProperties,Object.defineProperties(r.prototype,{allCalcProperties:{get:function(){return this.constructor.prototype.hasOwnProperty("_allCalcProperties")||Object.defineProperty(this.constructor.prototype,"_allCalcProperties",{value:this.getAllCalcProperties(),enumerable:!1}),this.constructor.prototype._allCalcProperties}},classes:{get:function(){return this.constructor.prototype.hasOwnProperty("_classes")||Object.defineProperty(this.constructor.prototype,"_classes",{value:this.getClasses(),enumerable:!1}),this.constructor.prototype._classes}}}),r.prototype.defineCalcProperties=function(e){var t,r,o;Object.defineProperty(this,i,{value:{},enumerable:!1,configurable:!1,writeable:!1}),o=this.allCalcProperties;for(r in o)t=o[r],this[i][r]=n,(!this.constructor.prototype.hasOwnProperty(r)||e)&&!function(e){return function(t,r){return Object.defineProperty(e.constructor.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this[i][t]===n&&(this[i][t]=r.call(this)),this[i][t]},set:function(e){return this[i][t]=e}})}}(this)(r,t);return null},r.prototype.cleanProps=function(){var t,r,o,s,u,l,a,c,f;for(r=1<=arguments.length?p.call(arguments,0):[],e.isEmpty(r)&&(r=e.keys(this.allCalcProperties)),o=[],s=0,l=r.length;l>s;s++)if(t=r[s])if(e.isFunction(t))for(f||(f=e.keys(this.allCalcProperties)),u=0,a=f.length;a>u;u++)c=f[u],t(c)&&this[i][c]!==n&&(this[i][c]=n,o.push(c));else this[i][t]!==n&&(this[i][t]=n,o.push(t));return o},r}(i)}),h("uberscore",["require","exports","module","./blending/blenders/index","./blending/Blender","./blending/traverse","./blending/clone","./objects/okv","./objects/mutate","./objects/setp","./objects/getp","./objects/isDisjoint","./objects/isRefDisjoint","./objects/getRefs","./objects/getInheritedPropertyNames","./objects/isEqual","./objects/isIqual","./objects/isExact","./objects/isIxact","./objects/isLike","./types/isTrue","./types/isFalse","./collections/array/isEqualArraySet","./collections/array/arrayize","./agreement/isAgree","./agreement/inAgreements","./types/type","./types/isPlain","./types/isHash","./Logger","./certain","./utils/CoffeeUtils","./utils/CalcCachedProperties","./utils/subclass"],function(i,o,s){var u=function(t,r,n){var i,o="0.0.18";return new(i=function(){function r(){}var n,i,s,u;r.prototype.VERSION="undefined"==typeof o||null===o?"{NO_VERSION}":o,r.prototype._=e,r.prototype.isLodash=function(t){return null==t&&(t=e),"lodash"===e.name||e.isFunction(t.isPlainObject)&&e.isFunction(t.merge)&&e.isFunction(t.omit)},i={Blender:t("./blending/Blender"),traverse:t("./blending/traverse"),clone:t("./blending/clone"),
okv:t("./objects/okv"),mutate:t("./objects/mutate"),setp:t("./objects/setp"),getp:t("./objects/getp"),isDisjoint:t("./objects/isDisjoint"),isRefDisjoint:t("./objects/isRefDisjoint"),getRefs:t("./objects/getRefs"),getInheritedPropertyNames:t("./objects/getInheritedPropertyNames"),isEqual:t("./objects/isEqual"),isIqual:t("./objects/isIqual"),isExact:t("./objects/isExact"),isIxact:t("./objects/isIxact"),isLike:t("./objects/isLike"),isTrue:t("./types/isTrue"),isFalse:t("./types/isFalse"),isOk:function(e){return!!e},isEqualArraySet:t("./collections/array/isEqualArraySet"),arrayize:t("./collections/array/arrayize"),isAgree:t("./agreement/isAgree"),inAgreements:t("./agreement/inAgreements"),type:t("./types/type"),isPlain:t("./types/isPlain"),isHash:t("./types/isHash"),Logger:t("./Logger"),certain:t("./certain"),CoffeeUtils:t("./utils/CoffeeUtils"),CalcCachedProperties:t("./utils/CalcCachedProperties"),subclass:t("./utils/subclass")};for(n in i)u=i[n],r.prototype[n]=u;s=t("./blending/blenders/index");for(n in s)u=s[n],r.prototype[n]=u;return r}())}.call(this,i,o,s),l=t._B;return r||n||(t._B=u,u.noConflict=function(){return t._B=l,u}),u}),d("uberscore")};return r?define("uberscore",["lodash"],d):n?module.exports=d(require("lodash")):d("undefined"!=typeof _?_:s("lodash","_"))}).call(this,"object"==typeof exports||"undefined"==typeof window?global:window,"object"==typeof exports||"undefined"==typeof window?global:window);