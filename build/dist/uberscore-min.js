/* uberscore 0.0.13 (2013-09-24), git://github.com/anodynos/uBerscore
   agelos.pikoulas@gmail.com, Lisense: MIT */
/**
 * almond 0.2.6 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

!function(e){var t="function"==typeof define&&define.amd,r="object"==typeof exports,n=!r,i=e,o=r?require:void 0,s=function(e,t){return function(){return e.apply(t,arguments)}},u={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a=[].slice,c=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1},p=function(e){var t,p,f;!function(e){function r(e,t){return x.call(e,t)}function n(e,t){var r,n,i,o,s,u,l,a,c,p,f=t&&t.split("/"),h=b.map,d=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=f.concat(e.split("/")),a=0;a<e.length;a+=1)if(p=e[a],"."===p)e.splice(a,1),a-=1;else if(".."===p){if(1===a&&(".."===e[2]||".."===e[0]))break;a>0&&(e.splice(a-1,2),a-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||d)&&h){for(r=e.split("/"),a=r.length;a>0;a-=1){if(n=r.slice(0,a).join("/"),f)for(c=f.length;c>0;c-=1)if(i=h[f.slice(0,c).join("/")],i&&(i=i[n])){o=i,s=a;break}if(o)break;!u&&d&&d[n]&&(u=d[n],l=a)}!o&&u&&(o=u,s=l),o&&(r.splice(0,s,o),e=r.join("/"))}return e}function i(t,r){return function(){return h.apply(e,E.call(arguments,0).concat([t,r]))}}function o(e){return function(t){return n(t,e)}}function s(e){return function(t){y[e]=t}}function u(t){if(r(v,t)){var n=v[t];delete v[t],m[t]=!0,c.apply(e,n)}if(!r(y,t)&&!r(m,t))throw new Error("No "+t);return y[t]}function l(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function a(e){return function(){return b&&b.config&&b.config[e]||{}}}var c,h,d,g,y={},v={},b={},m={},x=Object.prototype.hasOwnProperty,E=[].slice;d=function(e,t){var r,i=l(e),s=i[0];return e=i[1],s&&(s=n(s,t),r=u(s)),s?e=r&&r.normalize?r.normalize(e,o(t)):n(e,t):(e=n(e,t),i=l(e),s=i[0],e=i[1],s&&(r=u(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:r}},g={require:function(e){return i(e)},exports:function(e){var t=y[e];return"undefined"!=typeof t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:a(e)}}},c=function(t,n,o,l){var a,c,p,f,h,b,x=[];if(l=l||t,"function"==typeof o){for(n=!n.length&&o.length?["require","exports","module"]:n,h=0;h<n.length;h+=1)if(f=d(n[h],l),c=f.f,"require"===c)x[h]=g.require(t);else if("exports"===c)x[h]=g.exports(t),b=!0;else if("module"===c)a=x[h]=g.module(t);else if(r(y,c)||r(v,c)||r(m,c))x[h]=u(c);else{if(!f.p)throw new Error(t+" missing "+c);f.p.load(f.n,i(l,!0),s(c),{}),x[h]=y[c]}p=o.apply(y[t],x),t&&(a&&a.exports!==e&&a.exports!==y[t]?y[t]=a.exports:p===e&&b||(y[t]=p))}else t&&(y[t]=o)},t=p=h=function(t,r,n,i,o){return"string"==typeof t?g[t]?g[t](r):u(d(t,r).f):(t.splice||(b=t,r.splice?(t=r,r=n,n=null):t=e),r=r||function(){},"function"==typeof n&&(n=i,i=o),i?c(e,t,r,n):setTimeout(function(){c(e,t,r,n)},4),h)},h.config=function(e){return b=e,b.deps&&h(b.deps,b.callback),h},t._defined=y,f=function(e,t,n){t.splice||(n=t,t=[]),r(y,e)||r(v,e)||(v[e]=[e,t,n])},f.amd={jQuery:!0}}(),f("almond",function(){}),f("util",[],function(){return o("util")}),f("types/type",["require","exports","module"],function(t,r,n){var i,o=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};return i=function(t,r){var n,o,s;null==r&&(r=!1),s=i.TYPES;for(n in s)if(o=s[n],e["is"+n](t))return r?o[0]:n;return"UNKNOWN"},i.toShort=function(e){var t,r,n;if(i.TYPES[e])return i.TYPES[e][0];n=i.TYPES;for(t in n)if(r=n[t],o.call(r,e)>=0)return r[0]},i.toLong=function(e){var t,r,n;if(i.TYPES[e])return e;n=i.TYPES;for(t in n)if(r=n[t],o.call(r,e)>=0)return t},i.areEqual=function(e,t){return i.toShort(e)===i.toShort(t)},i.isType=function(t){var r;return r=i.toLong(t),o.call(e.keys(i.TYPES),r)>=0},i.TYPES={Arguments:["args","..."],Array:["[]","A"],Function:["->","F"],String:["''","S",'""'],Date:["D"],RegExp:["//","R"],Number:["N"],Boolean:["B"],Object:["{}","O"],Null:["null","-"],Undefined:["U","void","?"]},n.exports=i,n.exports}),f("objects/getp",["require","exports","module"],function(t,r,n){var i,o;return i={separator:"/",stopKey:"#",terminateKey:void 0,defaultKey:"*",isReturnLast:!1},o=function(t,r,n){var o,s,u,l,a;if(null==n&&(n=i),n!==i&&e.defaults(n,i),!e.isArray(r))if(e.isString(r))r=r.split(n.separator);else{if(!e.isNumber(r)){if(void 0===r)return t;throw"_B.getp Error: invalid path: "+r}r=[r+""]}for(l=0,a=r.length;a>l;l++)if(s=r[l],s+""){if(void 0!==t&&(o=t),!e.isObject(t)){t=void 0;break}if(n.terminateKey&&t[n.terminateKey]){u={},u[n.terminateKey]=t[n.terminateKey],t=u;break}if(void 0!==t[s])t=t[s];else{if(n.stopKey&&void 0!==t[n.stopKey]){t=t[n.stopKey];break}t=n.defaultKey&&t[n.defaultKey]?t[n.defaultKey]:void 0}}return void 0===t?n.isReturnLast?o:t:t},n.exports=o,n.exports}),f("types/isHash",["require","exports","module","./type"],function(e,t,r){var n;return n=e("./type"),r.exports=function(e){return"Object"===n(e)},r.exports}),f("utils/CoffeeUtils",["require"],function(){var e;return e=function(){function e(){}return e.prototype.getClasses=function(e,t){return null==t&&(t=[]),e||(e=this),"function"!=typeof e&&(e=e.constructor),t.unshift(e),e.__super__?this.getClasses(e.__super__.constructor,t):t},e.getClasses=e.prototype.getClasses,e}()}),f("agreement/isAgree",["require"],function(){return function(t,r){return e.isRegExp(r)?r.test(t+""):e.isFunction(r)?r(t):void 0===r?!0:e.isEqual(t,r)?!0:t+""==r+""}}),f("collections/array/arrayize",["require","exports","module","../../agreement/isAgree"],function(t,r,n){var i,o;return i=t("../../agreement/isAgree"),o=function(t){return e.isArray(t)?t:e.isUndefined(t)||e.isNull(t)?[]:[t]},n.exports=o,n.exports}),f("agreement/inAgreements",["require","exports","module","../collections/array/arrayize"],function(t,r,n){var i;return i=t("../collections/array/arrayize"),n.exports=function(t,r){var n,o,s;if(r=i(r),e.isEmpty(r))return!1;for(o=0,s=r.length;s>o;o++)if(n=r[o],h(t,n))return!0;return!1},n.exports}),f("objects/setp",["require","exports","module"],function(t,r,n){var i,o;return i={separator:"/",create:!0,overwrite:!1},o=function(t,r,n,o){var s,u,l,a,c;if(null==o&&(o=i),o!==i&&e.defaults(o,i),!e.isArray(r)){if(!e.isString(r))throw"_B.setp Error: invalid path: "+r+".\nUse either an Array, eg ['path1', 'path2']\nor `separator`-ed String, eg 'path1.path2'";r=r.split(o.separator),r=function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)u=r[e],u&&n.push(u);return n}()}if(!e.isObject(t))throw"_B.setp Error: invalid object: "+t;for(l=a=0,c=r.length;c>a;l=++a){if(u=r[l],!e.isObject(t[u]))if(o.create||o.overwrite)s=null,e.isUndefined(t[u])?s={}:o.overwrite&&(s={},e.isString(o.overwrite)&&(s[o.overwrite]=t[u])),s&&(t[u]=s);else if(e.isUndefined(t[u]))return!1;l<r.length-1&&(t=t[u])}return e.isObject(t)?(t[u]=n,!0):!1},n.exports=o,n.exports}),f("Logger",["require","exports","module","./agreement/inAgreements","./objects/setp","./objects/getp"],function(t,i,o){var s,u,l,a,c=[].slice;return l=t("./agreement/inAgreements"),a=t("./objects/setp"),u=t("./objects/getp"),s=function(){function i(e,t){null==e&&(e=[]),this.debugLevel=t,this.setDebugPath(e),i.loggerCount=(i.loggerCount||0)+1}var o,s,p,f,h,d;p=function(t,r,o){return function(){var u,l,a,p,f,h,d,g,y;l=1<=arguments.length?c.call(arguments,0):[],e.isString(l[0])&&(f=s(l[0]),l[0]=l[0].slice(f)),l=function(){var e,t,r;for(r=[],e=0,t=l.length;t>e;e++)u=l[e],r.push(i.prettify(u));return r}(),d=""+(e.isEmpty(this.debugPath)?"Logger"+i.loggerCount+" ":"["+this.debugPath.join("/")+"] ")+t,d&&(d+=":"),l.unshift(d),"undefined"!=typeof n&&null!==n&&n||l.unshift(""+r),l.unshift(function(){var e,t;for(t=[],p=e=1;f>=e;p=e+=1)t.push("\n");return t}().join("")),"undefined"!=typeof n&&null!==n&&n||l.push("[0m"),o.apply(console,l);try{return l.join("")}catch(v){for(a=v,h="",g=0,y=l.length;y>g;g++)u=l[g],h+=Object.prototype.toString(u);return h}}},s=function(e){var t;for(t=0;"\n"===e[t];)t++;return t},o=function(t){var r,n,i,o,s;if(e.isString(t)){for(o=t.split("/"),s=[],n=0,i=o.length;i>n;n++)r=o[n],r&&s.push(r);return s}return e.isUndefined(t)?[]:e.isArray(t)?t:[t]},i.prototype.setDebugPath=function(e){return this.debugPath=o(e)},i.addDebugPathLevel=function(t,r){return t=e.clone(o(t)),t.unshift("debugPathsLevels"),t.push("_level"),a(i,t,r,{create:!0})},i.prototype.getDebugPathLevel=function(t){var r,n,o;for(null==t&&(t=this.debugPath),n=e.clone(t),n.unshift("debugPathsLevels"),o=u(i,n),r=n.pop();e.isUndefined(null!=o?o._level:void 0)&&r;)o=u(i,n),r=n.pop();return null!=o?o._level:void 0},i.prototype.isDebug=function(t){var r;if(e.isNumber(i.maxDebugLevel)&&t>i.maxDebugLevel)return!1;if(e.isNumber(this.debugLevel)){if(t>this.debugLevel)return!1}else if(e.isNumber(r=this.getDebugPathLevel())){if(t>r)return!1}else if(t>1)return!1;return!0},i.prototype.deb=function(){var t;return t=p("DEBUG","[35m",console.log),function(){var r,n,i,o,u;return n=arguments[0],i=2<=arguments.length?c.call(arguments,1):[],e.isEmpty(i)&&e.isNumber(n)?this.isDebug(this.lastDebugLevelCheck=n):(e.isNumber(n)?i.unshift("("+n+")"):(i.unshift(n),n=null!=(u=this.lastDebugLevelCheck)?u:1,i.unshift(this.lastDebugLevelCheck?"(?"+this.lastDebugLevelCheck+")":"(!1)")),e.isString(i[1])&&(o=s(i[1]),i[1]=i[1].slice(o),i[0]=function(){var e,t;for(t=[],r=e=1;o>=e;r=e+=1)t.push("\n");return t}().join("")+i[0]),delete this.lastDebugLevelCheck,this.isDebug(n)?t.apply(this,i):void 0)}}(),i.prototype.debug=i.prototype.deb,i.prettify="undefined"!=typeof r&&null!==r&&r||"undefined"==typeof r||null===r?function(t){var r;return r=function(){var e,t,r,n,i,o;for(t=[],o=process.version.slice(1).split("."),e=n=0,i=o.length;i>n;e=++n)r=o[e],t[e]=1*r;return t[0]>0||t[1]>9?!1:9===t[1]?t[2]<=2?!0:!1:!0}(),function(n){var i;return i=r?"[0m"+t(n,!1,null,!0):"[0m"+t(n,{showHidden:!1,depth:null,colors:!0}),e.isArray(n)&&i.replace(/\n/g,""),l(n,[e.isObject,e.isRegExp])?i:n}}(t("util").inspect):function(e){return e},i.prototype.prettify=i.prettify,i.prototype.err=p("ERROR","[31m",console.error),i.prototype.er=p("ERRor","[31m",console.log),i.prototype.warn=p("WARNING","[33m",console.log),i.prototype.verbose=p("","[36m",console.log),i.prototype.ver=i.prototype.verbose,i.prototype.ok=p("","[32m",console.log),i.prototype.log=p("","[0m",console.log),i.logger=new i("DefaultLogger"),d=i.prototype;for(f in d)h=d[f],i[f]=e.isFunction(h)?e.bind(h,i.logger):h;return i}(),o.exports=s,o.exports}),f("blending/Blender",["require","../types/type","../objects/getp","../types/isHash","../utils/CoffeeUtils","../Logger"],function(t,r,n,i,o){var c,p;return c=function(){function e(e){this.name=e}return e}(),p=function(o){function p(){var r,n,o,u,l,c,p,f,h,d,g,y;for(u=1<=arguments.length?a.call(arguments,0):[],this.blenderBehaviors=u,this._blend=s(this._blend,this),this.blend=s(this.blend,this),this.getNextAction=s(this.getNextAction,this),this.getAction=s(this.getAction,this),this.l=new(t("../Logger"))("uberscore/Blender",this.debugLevel),e.isArray(this.blenderBehaviors[0])&&(i(this.blenderBehaviors[1])&&e.extend(this,this.blenderBehaviors[1]),this.blenderBehaviors=this.blenderBehaviors[0]),g=this.getClasses(),f=g.length-1;f>=0;f+=-1)r=g[f],r.behavior&&this.blenderBehaviors.push(r.behavior);c=e.last(this.blenderBehaviors);for(p in c)l=c[p],e.isUndefined(l["*"])&&(l["*"]||(l["*"]=c["*"]["*"]));for(y=this.blenderBehaviors,o=h=0,d=y.length;d>h;o=++h)n=y[o],this.blenderBehaviors[o]=this.adjustBlenderBehavior(n);this.path=[]}return l(p,o),p.prototype.inherited=!1,p.prototype.copyProto=!1,p.prototype.pathTerminator="|",p.prototype.isExactPath=!0,p.prototype.pathSeparator=":",p.prototype.debugLevel=0,p.prototype.defaultBBOrder=["src","dst"],p.prototype.adjustBlenderBehavior=function(e){return e.order||(e.order=this.defaultBBOrder),this._adjustBbSrcDstPathSpec(e,e.order)},p.prototype._adjustBbSrcDstPathSpec=function(e,t){var n,o,s,u,l,a,c,p,f,h,d;if(t.length>0)if(n=t[0],"path"===n)for(s in e)if(f=e[s],s===this.pathTerminator)i(f)&&this._adjustBbSrcDstPathSpec(f,t.slice(1));else{if(c=this.pathSeparator?function(){var e,t,r,n;for(r=s.split(this.pathSeparator),n=[],e=0,t=r.length;t>e;e++)a=r[e],a&&n.push(a.trim());return n}.call(this):[],c.length>1){for(u=e,o=h=0,d=c.length;d>h;o=++h)l=c[o],u[l]||(u[l]={}),o<c.length-1?u=u[l]:u[l]=f;delete e[s]}else c[0]&&s!==c[0]&&(e[c[0]]=f,delete e[s]);i(f)&&this._adjustBbSrcDstPathSpec(f,t)}else for(s in e)f=e[s],r.isType(s)&&(p=r.toShort(s),p&&s!==p&&(e[p]=e[s],delete e[s])),i(f)&&this._adjustBbSrcDstPathSpec(f,t.slice(1));return e},p.prototype.getAction=function(t,r){var n,i,o,s,u;for(null==r&&(r=this.currentBlenderBehaviorIndex),u=this.blenderBehaviors,i=o=0,s=u.length;s>o;i=++o)if(n=u[i],i>=r&&e.isFunction(n[t]))return e.bind(n[t],this);if(e.isFunction(this[t]))return e.bind(this[t],this);throw this.l.err("_B.Blender.blend: Error: Invalid BlenderBehavior `actionName` = ",t," - no Function by that name is found in a preceding BlenderBehavior or Blender it self."," belowBlenderBehaviorIndex="+r," @currentBlenderBehaviorIndex="+this.currentBlenderBehaviorIndex," @blenderBehaviors=",this.blenderBehaviors)},p.prototype.getNextAction=function(t,r,i){var o,s,u,l,a,p;for(s=t,p=t.order,l=0,a=p.length;a>l&&(o=p[l],!(void 0===s||e.isString(s)||e.isFunction(s)||s instanceof c));l++){if(e.isUndefined(i[o]))throw this.l.err("_.Blender.blend: Error: Invalid BlenderBehavior `order` '"+o+"',\nwhile reading BlenderBehavior #"+r+" :\n",this.blenderBehaviors[r],"\n\nDefault BlenderBehavior order is ",this.defaultBBOrder);"path"===o?(u=n(s,this.path.slice(1),{terminateKey:this.isExactPath?void 0:this.pathTerminator}),e.isObject(u)&&(u=u["|"])):u=s[i[o]]||s["*"],s=u}return s},p.prototype.blend=function(){var t,r,n,i,o,s;if(t=arguments[0],n=2<=arguments.length?a.call(arguments,1):[],e.isEmpty(this.path)){for((e.isUndefined(n)||e.isEmpty(n))&&(n=[t],t=e.isArray(t)?[]:{}),r={$:t},this.dstRoot=t,o=0,s=n.length;s>o;o++)i=n[o],this.srcRoot=i,this._blend(r,{$:i});return r.$}return this._blend.apply(this,arguments)},p.prototype._blend=function(){var t,n,i,o,s,l,p,f,h,d,g,y,v,b,m,x,E,j,P,B;for(o=arguments[0],d=2<=arguments.length?a.call(arguments,1):[],(e.isUndefined(d)||e.isEmpty(d))&&(d=[o],o=e.isArray(o)?[]:{}),b=0,E=d.length;E>b;b++)for(g=d[b],f=e.isArray(g)?function(){var e,t,r;for(r=[],l=e=0,t=g.length;t>e;l=++e)y=g[l],r.push(l);return r}():this.inherited?function(){var e;e=[];for(l in g)e.push(l);return e}():function(){var e;e=[];for(l in g)u.call(g,l)&&e.push(l);return e}(),m=0,j=f.length;j>m;m++){for(p=f[m],this.path.push(p),v=!0,B=this.blenderBehaviors,i=x=0,P=B.length;P>x;i=++x)if(n=B[i],v&&(this.currentBlenderBehaviorIndex=i,this.currentBlenderBehavior=this.blenderBehaviors[i],s=this.getNextAction(n,i,{dst:r(o[p],!0),src:r(g[p],!0),path:this.path}),void 0!==s)){if(t=s,!e.isFunction(t))if(e.isString(t))t=this.getAction(t,i);else{if(!(t instanceof c))throw this.l.err("_B.Blender.blend: Invalid `action` (neither 'Function' nor 'String'): ",t);h=t}t instanceof c||(h=t.call(this,p,g,o,this)),v=!1,h instanceof c?((h===this.DELETE||h===this.DELETE_NEXT)&&delete o[p],(h===this.NEXT||h===this.DELETE_NEXT)&&(v=!0)):(e.isArray(h)&&h[0]===this.NEXT&&(h=h[1],v=!0),o[p]=h)}this.path.pop()}return o},p.SKIP=new c("SKIP"),p.prototype.SKIP=p.SKIP,p.NEXT=new c("NEXT"),p.prototype.NEXT=p.NEXT,p.DELETE=new c("DELETE"),p.prototype.DELETE=p.DELETE,p.DELETE_NEXT=new c("DELETE_NEXT"),p.prototype.DELETE_NEXT=p.DELETE_NEXT,p.prototype.overwrite=function(e,t){return t[e]},p.prototype.deepOverwrite=function(e,t,r){return this.copyProto&&(r[e].__proto__=t[e].__proto__),this.blend(r[e],t[e])},p.prototype.arrayAppend=function(e,t,r){var n,i,o,s;for(s=t[e],i=0,o=s.length;o>i;i++)n=s[i],r[e].push(n);return r[e]},p.behavior={order:["dst","src"],"*":{"*":"overwrite"},"[]":{"[]":"deepOverwrite","{}":"deepOverwrite","->":"deepOverwrite"},"{}":{"{}":"deepOverwrite","[]":"deepOverwrite","->":"deepOverwrite"},"->":{"{}":"deepOverwrite","[]":"deepOverwrite","->":"deepOverwrite"}},p}(o)}),f("blending/blenders/DeepCloneBlender",["require","../../types/type","../Blender"],function(e,t){var r,n;return r=function(e){function r(){return n=r.__super__.constructor.apply(this,arguments)}return l(r,e),r.behavior={order:["dst","src"],"*":{"[]":"deepCloneOverwrite","{}":"deepCloneOverwrite","->":function(e,t){return t[e]},Undefined:r.SKIP},deepCloneOverwrite:function(e,r,n){var i,o,s;return s=t(r[e]),i=t(n[e]),i!==s&&(o=["Function","Object"],c.call(o,i)>=0&&c.call(o,s)>=0||(n[e]="Array"===s?[]:{})),this.deepOverwrite(e,r,n)}},r}(e("../Blender"))}),f("blending/blenders/DeepExtendBlender",["require","../Blender","../../Logger"],function(t,r){var n,i,o;return i=new(t("../../Logger"))("uberscore/DeepExtendBlender"),n=function(t){function r(){return o=r.__super__.constructor.apply(this,arguments)}return l(r,t),r.behavior={order:["src","dst"],String:{"*":"overwriteOrReplace"},"[]":{"[]":function(t,r,n){return e.reject(this.deepOverwrite(t,r,n),function(e){return null===e||void 0===e})},"*":function(e,t,r){throw"deepExtend: Error: Trying to combine an array with a non-array.\n\nProperty: "+e+"\ndestination[prop]: "+i.prettify(r[e])+"\nsource[prop]: "+i.prettify(t[e])}},"{}":{"{}":function(e,t,r){var n,i,o,s;s=n=this.getAction("deepOverwrite")(e,t,r);for(i in s)o=s[i],(null===o||void 0===o)&&delete n[i];return n},"*":function(e,t,r){throw"deepExtend: Error trying to combine a PlainObject with a non-PlainObject.\n\nProperty: "+e+"\ndestination[prop]: "+i.prettify(r[e])+"\nsource[prop]: "+i.prettify(t[e])}},overwriteOrReplace:function(t,r,n){var i;return i=/\${\s*?_\s*?}/,e.isString(r[t])&&i.test(r[t])?e.isString(n[t])?r[t].replace(i,n[t]):n[t]:r[t]}},r}(r)}),f("blending/blenders/DeepDefaultsBlender",["require","../../types/type","./DeepCloneBlender"],function(e,t,r){var n,i;return n=function(e){function t(){return i=t.__super__.constructor.apply(this,arguments)}return l(t,e),t.behavior={order:["dst","src"],Undefined:t.NEXT,Null:t.NEXT,"{}":{"{}":t.NEXT,"->":t.NEXT,"*":t.SKIP},"->":{"{}":t.NEXT,"->":t.NEXT,"*":t.SKIP},"[]":{"[]":t.NEXT,"*":t.SKIP},"*":t.SKIP},t}(r)}),f("blending/blenders/ArrayizePushBlender",["require","exports","module","../../collections/array/arrayize","./DeepCloneBlender"],function(t,r,n,i){var o,s;return o=function(t){function r(){return s=r.__super__.constructor.apply(this,arguments)}return l(r,t),r.behavior={order:["src"],unique:!1,"*":"pushToArray",pushToArray:function(t,r,n){var o,s,u,l,a;for(n[t]=i(n[t]),s=i(r[t]),e.isEqual(s[0],[null])&&(n[t]=[],s=s.slice(1)),o=this.unique?function(){var e,r,i;for(i=[],e=0,r=s.length;r>e;e++)u=s[e],c.call(n[t],u)<0&&i.push(u);return i}():s,l=0,a=o.length;a>l;l++)u=o[l],n[t].push(u);return n[t]}},r}(t("./DeepCloneBlender"))}),f("blending/traverse",["require","exports","module","./Blender"],function(e,t,r){var n,i;return n=e("./Blender"),i=function(e,t){var r,i,o;return r={},i=!0,o=new n([{order:["src"],"[]":"traverse","{}":"traverse","->":"traverse","*":n.SKIP,traverse:function(n,o,s,u){return o[n]!==e&&(i=t.call(this,n,o,u)),i!==!1&&this.blend(r,o[n]),this.SKIP}}],{debugLevel:0}),o.blend(r,e)},r.exports=i,r.exports}),f("objects/okv",["require","exports","module"],function(t,r,n){var i,o=[].slice;return i=function(){var t,r,n,i,s,u;if(i=arguments[0],n=2<=arguments.length?o.call(arguments,1):[],e.isString(i)&&(n.unshift(i),i={}),e.isObject(i)){for(t=s=0,u=n.length;u>s;t=s+=2)r=n[t],t+1<n.length&&(i[r+""]=n[t+1]);return i}return null},n.exports=i,n.exports}),f("collections/go",["require","exports","module"],function(t,r,n){var i,o=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};return i=function(t,r,n){var i,s,u,l,a,c,p,f,h,d,g,y,v,b;if(r&&(u=r.fltr,c=r.iter,y=r.sort,l=r.grab),a=!e.isArray(t),f=function(){return a?{}:[]},t=e.clone(t),d=null,h=function(){return d=void 0===l?f():e.isFunction(l)?f():e.isArray(l)?[]:e.isObject(l)?{}:e.isString(l)?"[]"===l||"array"===l||"Array"===l||"a"===l||"A"===l?[]:"{}"===l||"object"===l||"Object"===l||"o"===l||"O"===l?{}:f():f()},g=function(t,r){return e.isArray(d)?d.push(t):d[r]=t},s=function(e,r){return a&&(r=e,e=t[r]),[e,r]},void 0!==u&&(h(),e.each(t,function(r,i){var s;if(e.isFunction(u)){if(u.call(n,r,i,t))return g(r,i)}else if(a&&(e.isString(u)&&(u=[u]),e.isArray(u)&&o.call(function(){var e,t,r;for(r=[],e=0,t=u.length;t>e;e++)s=u[e],r.push(s.toString());return r}(),i)>=0))return g(r,i)}),t=d),void 0!==y&&(h(),p=[],e(t).map(function(e,t){return a?t:e}).sortBy(e.isFunction(y)?function(e,t){return y.apply(n,s(e,t))}:e.isString(y)?function(e){return e}:e.isBoolean(y)?y?function(){return!0}:function(){return!1}:y).each(function(e,t){return g.apply(null,s(e,t))}),t=d),e.isFunction(c)&&(void 0===y?e.each(t,function(e,r){return c.call(n,e,r,t)}):e.each(t,function(e,r){return c.call(n,e,r,t)})),l)if(e.isFunction(l))e.each(t,function(e,r){return l.call(n,e,r,t)});else if(e.isArray(l))for(v=0,b=t.length;b>v;v++)i=t[v],l.push(i);else e.isObject(l)&&e.extend(l,t);return t},n.exports=i,n.exports}),f("objects/mutate",["require","exports","module","../collections/go"],function(t,r,n){var i=t("../collections/go"),o=function(t,r,n){return e.isFunction(r)&&i(t,{iter:function(e,i){return h(e,n)?t[i]=r(e):void 0}}),t};return n.exports=o,n.exports}),f("objects/isDisjoint",["require","exports","module"],function(t,r,n){var i;return i=function(t,r,n){var i;return null==n&&(n=function(e,t){return e===t}),i=!1,e.each(t,function(t){return e.any(r,function(e){return n(t,e)})?(i=!0,!1):void 0}),!i},n.exports=i,n.exports}),f("objects/getRefs",["require","exports","module"],function(t,r,n){var i,o,s={}.hasOwnProperty;return o={deep:!1,inherited:!1},i=function(t,r,n){var u,l,a,c,p;for(null==r&&(r=o),null==n&&(n=[]),r!==o&&e.defaults(r,o),l=r.inherited?function(){var e;e=[];for(u in t)e.push(u);return e}():function(){var e;e=[];for(u in t)s.call(t,u)&&e.push(u);return e}(),c=0,p=l.length;p>c;c++)u=l[c],a=t[u],e.isObject(a)&&(n.push(a),r.deep&&i(a,r,n));return n},n.exports=i,n.exports}),f("objects/isRefDisjoint",["require","exports","module","./getRefs","./isDisjoint"],function(t,r,n){var i,o,s,u;return i=t("./getRefs"),o=t("./isDisjoint"),u={deep:!1,inherited:!1},s=function(t,r,n){var s,l;return null==n&&(n=u),n!==u&&e.defaults(n,u),t===r?!1:(s=i(t,n),s.unshift(t),l=i(r,n),l.unshift(r),o(s,l))},n.exports=s,n.exports}),f("objects/getInheritedPropertyNames",["require","exports","module"],function(t,r,n){var i,o;return i=function(e){return o(Object.getPrototypeOf(e))},o=function(t){var r;for(r=[];;){if(!t||void 0===t||e.isEmpty(t)&&!Object.getPrototypeOf(t))break;Object.getOwnPropertyNames(t).forEach(function(e){return-1===r.indexOf(e)&&"constructor"!==e?r.push(e):void 0}),t=Object.getPrototypeOf(t)}return r},n.exports=i,n.exports}),f("types/isPlain",["require","exports","module","./type"],function(e,t,r){function n(e,t){for(var r=-1,n=t.length>>>0;++r<n;)if(e===t[r]&&r in t)return!0;return!1}var i,o;return i=e("./type"),o=function(e){return n(i(e),o.PLAIN_TYPES)},o.PLAIN_TYPES=["String","Date","RegExp","Number","Boolean","Null","Undefined"],r.exports=o,r.exports}),f("collections/array/isEqualArraySet",["require","exports","module"],function(t,r,n){var i;return i=function(t,r){return 0===e.difference(t,r).length?0===e.difference(r,t).length:!1},n.exports=i,n.exports}),f("objects/isEqual",["require","exports","module","../types/type","../types/isPlain","../types/isHash","../collections/array/isEqualArraySet","../Logger"],function(t,r,n){var i,o,s,u,l,a,c;return c=t("../types/type"),l=t("../types/isPlain"),u=t("../types/isHash"),s=t("../collections/array/isEqualArraySet"),a=new(t("../Logger"))("uberscore/isEqual"),o=function(t,r,n,a,p){var f,h,d,g,y,v,b,m,x;if(null==p&&(p=o.defaults),u(n)&&(p=e.defaults(n,p)),p!==o.defaults&&e.defaults(p||(p={}),o.defaults),p.callback&&(n=p.callback),p.ctx&&(a=p.ctx),e.isFunction(n)){if(n.optioned||(d=n,n=function(e,t){return d.call(this,e,t,p)},n.optioned=!0,p.callback&&(p.callback=n)),g=n.call(a,t,r),void 0!==g)return g?!0:!1}else n=void 0,p.callback=void 0;if(t===r)return!0;if(e.isFunction(null!=t?t.isEqual:void 0))return t.isEqual(r);if(e.isFunction(null!=r?r.isEqual:void 0))return r.isEqual(t);if(e.isEqual(o.defaults,e.pick(p,e.keys(o.defaults))))return e.isEqual(t,r,n,a);if(!p.onlyProps||!e.isObject(r)||!e.isObject(t)&&!p.like){if(c(t)!==c(r))return!1;if(y=function(t){return l(t)||e.isFunction(t)},y(t)||y(r)){if(!e.isEqual(t,r,n,a))return!1;if(!p.allProps)return!0}}if(f=i(t,p),h=i(r,p),!(p.like||f.length===h.length&&s(f,h)))return e.isArray(p.path)&&((v=e.difference(f,h)[0])||(v=e.difference(h,f)[0]),p.path.push(v)),!1;for(m=0,x=f.length;x>m;m++){if(b=f[m],e.isArray(p.path)&&p.path.push(b),p.exact&&t[b]!==r[b])return!1;if(!o(t[b],r[b],n,a,p))return!1;e.isArray(p.path)&&p.path.pop()}return!0},o.defaults={inherited:!1,exact:!1,like:!1,path:void 0,exclude:[],allProps:!1,onlyProps:!1},i=function(t,r){var n,i,o,s,u,l,a;if(null==r&&(r={}),i=function(t){return e.any(r.exclude,function(e){return e+""==t+""})},!e.isArray(t)||r.allProps||r.onlyProps){a=[];for(o in t)i(o)||!r.inherited&&!{}.hasOwnProperty.call(t,o)||a.push(o);return a}for(l=[],n=s=0,u=t.length;u>=0?u>s:s>u;n=u>=0?++s:--s)i(n)||l.push(n);return l},n.exports=o,n.exports}),f("objects/isIqual",["require","exports","module","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.inherited=!0,(o.exclude||(o.exclude=[])).push("constructor"),n(e,t,r,i,o)},r.exports=i,r.exports}),f("objects/isExact",["require","exports","module","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.exact=!0,n(e,t,r,i,o)},r.exports=i,r.exports}),f("objects/isIxact",["require","exports","module","./isIqual"],function(e,t,r){var n,i;return n=e("./isIqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.exact=!0,n(e,t,r,i,o)},r.exports=i,r.exports}),f("objects/isLike",["require","exports","module","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.like=!0,n(e,t,r,i,o)},r.exports=i,r.exports}),f("certain",["require","exports","module","./types/isHash"],function(t,r,n){var i,o;return o=t("./types/isHash"),i=function(t,r,n,i){if(null==i&&(i=!1),!o(t)&&!e.isFunction(t))throw"Error: _B.certain: o is neither an Object or Function.\no="+JSON.stringify(t,null,"");return e.isUndefined(r)&&(r="*"),function(o){var s,u,l;if(s=null!=(u=null!=(l=t[o])?l:t[r])?u:n,i&&e.isUndefined(s))throw"Error: _B.certain: defaultKey is undefined.\n  defaultVal is also undefined.\n  key='"+o+"' (o["+o+"] is obviously undefined too)\n  defaultKey='"+r+"'\n  o="+JSON.stringify(t,null,"");return s}},n.exports=i,n.exports}),f("utils/CalcCachedProperties",["require","./CoffeeUtils","../Logger"],function(t,r){var n,i;return i=new(t("../Logger"))("uberscore/utils/CalcCachedProperties"),n=function(t){function r(){this.defineCalcProperties()}var n,i,o;return l(r,t),o=function(e){return"__$$"+e+"__$$"},i=o("cache"),n={cUndefined:!0},r.prototype.getAllCalcProperties=function(e){var t,r,n,i,o,s,u,l;for(null==e&&(e=this),i={},u=this.getClasses(e),o=0,s=u.length;s>o;o++){t=u[o],l=t.calcProperties;for(n in l)r=l[n],i[n]=r}return i},r.getAllCalcProperties=r.prototype.getAllCalcProperties,Object.defineProperties(r.prototype,{allCalcProperties:{get:function(){return this.constructor.prototype.hasOwnProperty("_allCalcProperties")||Object.defineProperty(this.constructor.prototype,"_allCalcProperties",{value:this.getAllCalcProperties(),enumerable:!1}),this.constructor.prototype._allCalcProperties}},classes:{get:function(){return this.constructor.prototype.hasOwnProperty("_classes")||Object.defineProperty(this.constructor.prototype,"_classes",{value:this.getClasses(),enumerable:!1}),this.constructor.prototype._classes}}}),r.prototype.defineCalcProperties=function(e){var t,r,o,s=this;Object.defineProperty(this,i,{value:{},enumerable:!1,configurable:!1,writeable:!1}),o=this.allCalcProperties;for(r in o)t=o[r],this[i][r]=n,(!this.constructor.prototype.hasOwnProperty(r)||e)&&function(e,t){return Object.defineProperty(s.constructor.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this[i][e]===n&&(this[i][e]=t.call(this)),this[i][e]},set:function(t){return this[i][e]=t}})}(r,t);return null},r.prototype.cleanProps=function(){var t,r,o,s,u,l,c,p,f;for(r=1<=arguments.length?a.call(arguments,0):[],e.isEmpty(r)&&(r=e.keys(this.allCalcProperties)),o=[],l=0,p=r.length;p>l;l++)if(t=r[l])if(e.isFunction(t))for(u||(u=e.keys(this.allCalcProperties)),c=0,f=u.length;f>c;c++)s=u[c],t(s)&&this[i][s]!==n&&(this[i][s]=n,o.push(s));else this[i][t]!==n&&(this[i][t]=n,o.push(t));return o},r}(r)}),f("uberscore",["require","exports","module","./blending/Blender","./blending/blenders/DeepCloneBlender","./blending/blenders/DeepExtendBlender","./blending/blenders/DeepDefaultsBlender","./blending/blenders/ArrayizePushBlender","./blending/traverse","./objects/okv","./objects/mutate","./objects/setp","./objects/getp","./objects/isDisjoint","./objects/isRefDisjoint","./objects/getRefs","./objects/getInheritedPropertyNames","./objects/isEqual","./objects/isIqual","./objects/isExact","./objects/isIxact","./objects/isLike","./collections/go","./collections/array/isEqualArraySet","./collections/array/arrayize","./agreement/isAgree","./agreement/inAgreements","./types/type","./types/isPlain","./types/isHash","./Logger","./certain","./utils/CoffeeUtils","./utils/CalcCachedProperties"],function(t,r,n){var o=function(t,r,n){var i,o="0.0.13";return i=function(){function r(){}var n,i,s;r.prototype.VERSION="undefined"==typeof o||null===o?"{NO_VERSION}":o,r.prototype._=e,r.prototype.isLodash=function(t){return null==t&&(t=e),"lodash"===e.name||e.isFunction(t.isPlainObject)&&e.isFunction(t.merge)&&e.isFunction(t.omit)},s={Blender:t("./blending/Blender"),DeepCloneBlender:t("./blending/blenders/DeepCloneBlender"),DeepExtendBlender:t("./blending/blenders/DeepExtendBlender"),DeepDefaultsBlender:t("./blending/blenders/DeepDefaultsBlender"),ArrayizePushBlender:t("./blending/blenders/ArrayizePushBlender"),traverse:t("./blending/traverse"),okv:t("./objects/okv"),mutate:t("./objects/mutate"),setp:t("./objects/setp"),getp:t("./objects/getp"),isDisjoint:t("./objects/isDisjoint"),isRefDisjoint:t("./objects/isRefDisjoint"),getRefs:t("./objects/getRefs"),getInheritedPropertyNames:t("./objects/getInheritedPropertyNames"),isEqual:t("./objects/isEqual"),isIqual:t("./objects/isIqual"),isExact:t("./objects/isExact"),isIxact:t("./objects/isIxact"),isLike:t("./objects/isLike"),go:t("./collections/go"),isEqualArraySet:t("./collections/array/isEqualArraySet"),arrayize:t("./collections/array/arrayize"),isAgree:t("./agreement/isAgree"),inAgreements:t("./agreement/inAgreements"),type:t("./types/type"),isPlain:t("./types/isPlain"),isHash:t("./types/isHash"),Logger:t("./Logger"),certain:t("./certain"),CoffeeUtils:t("./utils/CoffeeUtils"),CalcCachedProperties:t("./utils/CalcCachedProperties")};for(n in s)i=s[n],r.prototype[n]=i;return r}(),n.exports=new i,n.exports}.call(this,t,r,n),s=i._B,u=i.uberscore;return i._B=o,i.uberscore=o,o.noConflict=function(){return i._B=s,i.uberscore=u,o},o});var h;return h=p("agreement/isAgree"),p("uberscore")};t?define(["lodash"],p):r?module.exports=p(require("lodash")):p(_)}("object"==typeof exports?global:window);