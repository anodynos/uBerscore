/* uberscore 0.0.12 (2013-08-08), git://github.com/anodynos/uBerscore
   agelos.pikoulas@gmail.com, Lisense: MIT */
/**
 * almond 0.2.5 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

!function(){var e="function"==typeof define&&define.amd,t="object"==typeof exports,r=!t,n=null,i=function(){};t?(i=require,n=global):n=window,factory=function(){var e,o,s;return function(t){function r(e,t){return x.call(e,t)}function n(e,t){var r,n,i,o,s,u,l,a,c,p,f=t&&t.split("/"),d=v.map,h=d&&d["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=f.concat(e.split("/")),a=0;a<e.length;a+=1)if(p=e[a],"."===p)e.splice(a,1),a-=1;else if(".."===p){if(1===a&&(".."===e[2]||".."===e[0]))break;a>0&&(e.splice(a-1,2),a-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||h)&&d){for(r=e.split("/"),a=r.length;a>0;a-=1){if(n=r.slice(0,a).join("/"),f)for(c=f.length;c>0;c-=1)if(i=d[f.slice(0,c).join("/")],i&&(i=i[n])){o=i,s=a;break}if(o)break;!u&&h&&h[n]&&(u=h[n],l=a)}!o&&u&&(o=u,s=l),o&&(r.splice(0,s,o),e=r.join("/"))}return e}function i(e,r){return function(){return d.apply(t,B.call(arguments,0).concat([e,r]))}}function u(e){return function(t){return n(t,e)}}function l(e){return function(t){y[e]=t}}function a(e){if(r(b,e)){var n=b[e];delete b[e],m[e]=!0,f.apply(t,n)}if(!r(y,e)&&!r(m,e))throw new Error("No "+e);return y[e]}function c(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function p(e){return function(){return v&&v.config&&v.config[e]||{}}}var f,d,h,g,y={},b={},v={},m={},x=Object.prototype.hasOwnProperty,B=[].slice;h=function(e,t){var r,i=c(e),o=i[0];return e=i[1],o&&(o=n(o,t),r=a(o)),o?e=r&&r.normalize?r.normalize(e,u(t)):n(e,t):(e=n(e,t),i=c(e),o=i[0],e=i[1],o&&(r=a(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:r}},g={require:function(e){return i(e)},exports:function(e){var t=y[e];return"undefined"!=typeof t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:p(e)}}},f=function(e,n,o,s){var u,c,p,f,d,v,x=[];if(s=s||e,"function"==typeof o){for(n=!n.length&&o.length?["require","exports","module"]:n,d=0;d<n.length;d+=1)if(f=h(n[d],s),c=f.f,"require"===c)x[d]=g.require(e);else if("exports"===c)x[d]=g.exports(e),v=!0;else if("module"===c)u=x[d]=g.module(e);else if(r(y,c)||r(b,c)||r(m,c))x[d]=a(c);else{if(!f.p)throw new Error(e+" missing "+c);f.p.load(f.n,i(s,!0),l(c),{}),x[d]=y[c]}p=o.apply(y[e],x),e&&(u&&u.exports!==t&&u.exports!==y[e]?y[e]=u.exports:p===t&&v||(y[e]=p))}else e&&(y[e]=o)},e=o=d=function(e,r,n,i,o){return"string"==typeof e?g[e]?g[e](r):a(h(e,r).f):(e.splice||(v=e,r.splice?(e=r,r=n,n=null):e=t),r=r||function(){},"function"==typeof n&&(n=i,i=o),i?f(t,e,r,n):setTimeout(function(){f(t,e,r,n)},4),d)},d.config=function(e){return v=e,v.deps&&d(v.deps,v.callback),d},s=function(e,t,n){t.splice||(n=t,t=[]),r(y,e)||r(b,e)||(b[e]=[e,t,n])},s.amd={jQuery:!0}}(),s("almond",function(){}),s("util",[],function(){return i("util")}),s("lodash",[],function(){return"undefined"!=typeof _?_:i("lodash")}),function(){s("agreement/isAgree",["require","exports","module","lodash","./isAgree"],function(e,t,r,n){var n;return n=e("lodash"),r.exports=function(e,t){return n.isRegExp(t)?t.test(e+""):n.isFunction(t)?t(e):void 0===t?!0:n.isEqual(e,t)?!0:e+""==t+""},r.exports})}(n),function(){s("types/type",["require","exports","module","lodash","../agreement/isAgree"],function(e,t,r,n){var i,o=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};return i=function(e,t){var r,o,s;null==t&&(t=!1),s=i.TYPES;for(r in s)if(o=s[r],n["is"+r](e))return t?o[0]:r;return"UNKNOWN"},i.toShort=function(e){var t,r,n;if(i.TYPES[e])return i.TYPES[e][0];n=i.TYPES;for(t in n)if(r=n[t],o.call(r,e)>=0)return r[0]},i.toLong=function(e){var t,r,n;if(i.TYPES[e])return e;n=i.TYPES;for(t in n)if(r=n[t],o.call(r,e)>=0)return t},i.areEqual=function(e,t){return i.toShort(e)===i.toShort(t)},i.isType=function(e){var t;return t=i.toLong(e),o.call(n.keys(i.TYPES),t)>=0},i.TYPES={Arguments:["args","..."],Array:["[]","A"],Function:["->","F"],String:["''","S",'""'],Date:["D"],RegExp:["//","R"],Number:["N"],Boolean:["B"],Object:["{}","O"],Null:["null","-"],Undefined:["U","void","?"]},r.exports=i,r.exports})}(n),function(){s("objects/getp",["require","exports","module","lodash","../agreement/isAgree"],function(e,t,r,n){var i,o,n;return n=e("lodash"),i={separator:"/",stopKey:"#",terminateKey:void 0,defaultKey:"*",isReturnLast:!1},o=function(e,t,r){var o,s,u,l,a;if(null==r&&(r=i),r!==i&&n.defaults(r,i),!n.isArray(t))if(n.isString(t))t=t.split(r.separator);else{if(!n.isNumber(t)){if(void 0===t)return e;throw"_B.getp Error: invalid path: "+t}t=[t+""]}for(l=0,a=t.length;a>l;l++)if(s=t[l],s+""){if(void 0!==e&&(o=e),!n.isObject(e)){e=void 0;break}if(r.terminateKey&&e[r.terminateKey]){u={},u[r.terminateKey]=e[r.terminateKey],e=u;break}if(void 0!==e[s])e=e[s];else{if(r.stopKey&&void 0!==e[r.stopKey]){e=e[r.stopKey];break}e=r.defaultKey&&e[r.defaultKey]?e[r.defaultKey]:void 0}}return void 0===e?r.isReturnLast?o:e:e},r.exports=o,r.exports})}(n),function(){s("collections/array/arrayize",["require","exports","module","lodash","../../agreement/isAgree"],function(e,t,r,n){var i;return i=function(e){return n.isArray(e)?e:n.isUndefined(e)||n.isNull(e)?[]:[e]},r.exports=i,r.exports})}(n),function(){s("agreement/inAgreements",["require","exports","module","lodash","./isAgree","../collections/array/arrayize"],function(e,t,r,n,i){var o,s,i,n;return n=e("lodash"),i=e("./isAgree"),o=e("../collections/array/arrayize"),s=function(e,t){var r,s,u;if(t=o(t),n.isEmpty(t));else for(s=0,u=t.length;u>s;s++)if(r=t[s],i(e,r))return!0;return!1},r.exports=s,r.exports})}(n),function(){s("objects/setp",["require","exports","module","lodash","../agreement/isAgree"],function(e,t,r,n){var i,o,n;return n=e("lodash"),i={separator:"/",create:!0,overwrite:!1},o=function(e,t,r,o){var s,u,l,a,c;if(null==o&&(o=i),o!==i&&n.defaults(o,i),!n.isArray(t)){if(!n.isString(t))throw"_B.setp Error: invalid path: "+t+".\nUse either an Array, eg ['path1', 'path2']\nor `separator`-ed String, eg 'path1.path2'";t=t.split(o.separator),t=function(){var e,r,n;for(n=[],e=0,r=t.length;r>e;e++)u=t[e],u&&n.push(u);return n}()}if(!n.isObject(e))throw"_B.setp Error: invalid object: "+e;for(l=a=0,c=t.length;c>a;l=++a){if(u=t[l],!n.isObject(e[u]))if(o.create||o.overwrite)s=null,n.isUndefined(e[u])?s={}:o.overwrite&&(s={},n.isString(o.overwrite)&&(s[o.overwrite]=e[u])),s&&(e[u]=s);else if(n.isUndefined(e[u]))return!1;l<t.length-1&&(e=e[u])}return n.isObject(e)?(e[u]=r,!0):!1},r.exports=o,r.exports})}(n),function(){s("Logger",["require","exports","module","lodash","./agreement/isAgree","./agreement/inAgreements","./objects/setp","./objects/getp"],function(e,n,i,o){var s,u,l,a,o,c=[].slice;return o=e("lodash"),l=e("./agreement/inAgreements"),a=e("./objects/setp"),u=e("./objects/getp"),s=function(){function n(e,t,r){var i;this.levelPath=null!=e?e:"",this.debugLevel=null!=t?t:0,this.newLine=null!=r?r:!1,this.levelPaths=function(){var e,t,r,n;for(r=this.levelPath.split("/"),n=[],e=0,t=r.length;t>e;e++)i=r[e],i&&n.push(i);return n}.call(this),n.loggerCount=(n.loggerCount||0)+1}var i,s,p;n.prototype.prettify="undefined"!=typeof t&&null!==t&&t||"undefined"==typeof t||null===t?function(e){var t;return t=function(){var e,t,r,n,i,o;for(t=[],o=process.version.slice(1).split("."),e=n=0,i=o.length;i>n;e=++n)r=o[e],t[e]=1*r;return t[0]>0||t[1]>9?!1:9===t[1]?t[2]<=2?!0:!1:!0}(),function(r){var n;return n=t?"[0m"+e(r,!1,null,!0):"[0m"+e(r,{showHidden:!1,depth:null,colors:!0}),o.isArray(r)&&n.replace(/\n/g,""),l(r,[o.isObject,o.isRegExp])?n:r}}(e("util").inspect):function(e){return e},n.getALog=function(e,t,i){return function(){var o,s,u,l,a,c,p;s=function(){var e,t,r,n;for(r=Array.prototype.slice.call(arguments),n=[],e=0,t=r.length;t>e;e++)o=r[e],n.push(this.prettify(o));return n}.apply(this,arguments),a=""+(this.levelPath?"["+this.levelPath+"] ":"Logger"+n.loggerCount+" ")+e,a&&(a+=":"),s.unshift(a),"undefined"!=typeof r&&null!==r&&r||s.unshift(""+t),this.newLine&&s.unshift("\n"),"undefined"!=typeof r&&null!==r&&r||s.push("[0m"),i.apply(console,s);try{return s.join("")}catch(f){for(u=f,l="",c=0,p=s.length;p>c;c++)o=s[c],l+=Object.prototype.toString(o);return l}}},n.prototype.err=n.getALog("ERROR","[31m",console.error),n.prototype.log=n.getALog("","[0m",console.log),n.prototype.verbose=n.getALog("","[35m",console.log),n.prototype.ok=n.getALog("","[32m",console.log),n.prototype.warn=n.getALog("WARNING","[33m",console.log),n.prototype.debug=function(){var e;return e=n.getALog("DEBUG","[36m",console.log),function(){var t,r;return t=arguments[0],r=2<=arguments.length?c.call(arguments,1):[],o.isNumber(t)?r.unshift("("+t+")"):(r.unshift(t),t=this.lastDebugLevelCheck||1,r.unshift(this.lastDebugLevelCheck?"(?"+this.lastDebugLevelCheck+")":"(!1)")),t<=this.getEffectiveDebugLevel()&&e.apply(this,r),this.lastDebugLevelCheck=void 0}}(),n.prototype.getEffectiveDebugLevel=function(){var e;return e=this.getFederatedDebugLevel(),o.isUndefined(e)?this.debugLevel||0:0>=e?-1/0:o.max([e,this.debugLevel,0])},n.prototype.getFederatedDebugLevel=function(){return n.getStaticDebugLevel(this.levelPaths)},n.getStaticDebugLevel=function(e){var t,r,i;for(null==e&&(e=[]),r=o.clone(e),r.unshift("debugLevels"),i=u(n,r),t=r.pop();o.isUndefined(null!=i?i._value:void 0)&&t;)i=u(n,r),t=r.pop();return null!=i?i._value:void 0},n.setDebugLevel=function(e,t){return a(n,"debugLevels/"+t+"/_value",e,{create:!0})},n.prototype.deb=function(e){return e<=this.getEffectiveDebugLevel()?(this.lastDebugLevelCheck=e,!0):(this.lastDebugLevelCheck=void 0,!1)},n.logger=new n("DefaultLogger"),p=n.prototype;for(i in p)s=p[i],n[i]=o.isFunction(s)?o.bind(s,n.logger):s;return n}(),i.exports=s,i.exports})}(n),function(){s("blending/Blender",["require","exports","module","lodash","../agreement/isAgree","../types/type","../objects/getp","../Logger"],function(e,t,r,n){var i,o,s,n,u=function(e,t){return function(){return e.apply(t,arguments)}},l=[].slice,a={}.hasOwnProperty;return n=e("lodash"),s=e("../types/type"),o=e("../objects/getp"),i=function(){function t(){var r,i,o,s,a,c,p,f,d,h,g,y,b;o=1<=arguments.length?l.call(arguments,0):[],this.blenderBehaviors=o,this._blend=u(this._blend,this),this.blend=u(this.blend,this),this.getNextAction=u(this.getNextAction,this),this.getAction=u(this.getAction,this),(this._optionsList||(this._optionsList=[])).unshift(t.defaultOptions),this.l=new(e("../Logger"))("uberscore/Blender"),n.isArray(this.blenderBehaviors[0])&&(this.l.deb(20)&&this.l.debug("We might have options:",this.blenderBehaviors[1],"@_optionsList (defaults):",this._optionsList),this._optionsList.push(this.blenderBehaviors[1]),this.blenderBehaviors=this.blenderBehaviors[0]),this._optionsList.unshift(c={}),n.extend.apply(void 0,this._optionsList),this.l.debugLevel=c.debugLevel,this.l.deb(10)&&this.l.debug("Final blender options:",c),n.extend(this,c),delete this._optionsList,(this.defaultBlenderBehaviors||(this.defaultBlenderBehaviors=[])).push(t.behavior),a=n.last(this.defaultBlenderBehaviors);for(p in a)s=a[p],n.isUndefined(s["*"])&&(s["*"]||(s["*"]=a["*"]["*"]));for(y=this.defaultBlenderBehaviors,f=0,h=y.length;h>f;f++)r=y[f],this.blenderBehaviors.push(r);for(b=this.blenderBehaviors,i=d=0,g=b.length;g>d;i=++d)r=b[i],this.blenderBehaviors[i]=this.adjustBlenderBehavior(r);this.path=[]}return t.defaultOptions={inherited:!1,copyProto:!1,pathTerminator:"|",isExactPath:!0,pathSeparator:":",debugLevel:0},t.prototype.defaultBBOrder=["src","dst"],t.prototype.adjustBlenderBehavior=function(e){return e.order||(e.order=this.defaultBBOrder),this._adjustBbSrcDstPathSpec(e,e.order)},t.prototype._adjustBbSrcDstPathSpec=function(e,t){var r,i,o,u,l,a,c,p,f,d,h;if(t.length>0)if(r=t[0],"path"===r)for(o in e)if(f=e[o],o===this.pathTerminator)n.isPlainObject(f)&&this._adjustBbSrcDstPathSpec(f,t.slice(1));else{if(c=this.pathSeparator?function(){var e,t,r,n;for(r=o.split(this.pathSeparator),n=[],e=0,t=r.length;t>e;e++)a=r[e],a&&n.push(a.trim());return n}.call(this):[],c.length>1){for(u=e,i=d=0,h=c.length;h>d;i=++d)l=c[i],u[l]||(u[l]={}),i<c.length-1?u=u[l]:u[l]=f;delete e[o]}else c[0]&&o!==c[0]&&(e[c[0]]=f,delete e[o]);n.isPlainObject(f)&&this._adjustBbSrcDstPathSpec(f,t)}else for(o in e)f=e[o],s.isType(o)&&(p=s.toShort(o),p&&o!==p&&(e[p]=e[o],delete e[o])),n.isPlainObject(f)&&this._adjustBbSrcDstPathSpec(f,t.slice(1));return e},t.prototype.getAction=function(e,t){var r,i,o,s,u;for(null==t&&(t=this.currentBlenderBehaviorIndex),u=this.blenderBehaviors,i=o=0,s=u.length;s>o;i=++o)if(r=u[i],i>=t&&n.isFunction(r[e]))return r[e];if(n.isFunction(this[e]))return this[e];throw this.l.err("_B.Blender.blend: Error: Invalid BlenderBehavior `actionName` = ",e," - no Function by that name is found in a preceding BlenderBehavior or Blender it self."," belowBlenderBehaviorIndex="+t," @currentBlenderBehaviorIndex="+this.currentBlenderBehaviorIndex," @blenderBehaviors=",this.blenderBehaviors)},t.prototype.getNextAction=function(e,t,r){var i,s,u,l,a,c;for(s=e,c=e.order,l=0,a=c.length;a>l&&(i=c[l],void 0!==s&&!n.isString(s)&&!n.isFunction(s));l++){if(this.l.deb(80)&&this.l.debug("At bbOrder='"+i+"'","path"===i?" @path="+this.l.prettify(this.path):" bbOrderValues[bbOrder]='"+r[i]+"'"," currentBBSrcDstSpec =\n",s),n.isUndefined(r[i]))throw this.l.err("_.Blender.blend: Error: Invalid BlenderBehavior `order` '"+i+"',\nwhile reading BlenderBehavior #"+t+" :\n",this.blenderBehaviors[t],"\n\nDefault BlenderBehavior order is ",this.defaultBBOrder);"path"===i?(u=o(s,this.path.slice(1),{terminateKey:this.isExactPath?void 0:this.pathTerminator}),n.isObject(u)&&(u=u["|"])):u=s[r[i]]||s["*"],this.l.deb(70)&&this.l.debug(70,function(){if(void 0===u)return"Found NO nextBBSrcDstSpec at all - go to NEXT BlenderBehavior";if("path"===i)return"Got out of the path, having something!";if(u===s[r[i]])return"Found ";if(u===s["*"])return"Found NOT exact nextBBSrcDstSpec, but a '*'";if(n.isString(u))return"Found a String ";if(n.isFunction(u))return"Found a Function ";throw"Unknown nextBBSrcDstSpec = "+this.l.prettify(u)}.call(this)," \nbbOrder='"+i+"'"," \nbbOrderValues[bbOrder]='"+r[i]+"'"," \nnextBBSrcDstSpec=\n",u),s=u}return s},t.prototype.blend=function(){var e,t,r,i,o,s;if(e=arguments[0],r=2<=arguments.length?l.call(arguments,1):[],n.isEmpty(this.path)){for((n.isUndefined(r)||n.isEmpty(r))&&(r=[e],e=n.isArray(e)?[]:{}),t={$:e},this.dstRoot=e,o=0,s=r.length;s>o;o++)i=r[o],this.srcRoot=i,this._blend(t,{$:i});return t.$}return this._blend.apply(this,arguments)},t.prototype._blend=function(){var e,r,i,o,u,c,p,f,d,h,g,y,b,v,m,x,B,E,j,A;for(o=arguments[0],h=2<=arguments.length?l.call(arguments,1):[],(n.isUndefined(h)||n.isEmpty(h))&&(h=[o],o=n.isArray(o)?[]:{}),v=0,B=h.length;B>v;v++)for(g=h[v],f=n.isArray(g)?function(){var e,t,r;for(r=[],c=e=0,t=g.length;t>e;c=++e)y=g[c],r.push(c);return r}():this.inherited?function(){var e;e=[];for(c in g)e.push(c);return e}():function(){var e;e=[];for(c in g)a.call(g,c)&&e.push(c);return e}(),m=0,E=f.length;E>m;m++){for(p=f[m],this.path.push(p),this.l.deb(50)&&this.l.debug("@path = /"+this.path.join("/")+"\n'"+s(o[p])+"'    <--  '"+s(g[p])+"'\n",o[p],"    <--  ",g[p]),b=!0,A=this.blenderBehaviors,i=x=0,j=A.length;j>x;i=++x)if(r=A[i],b&&(this.l.deb(60)&&this.l.debug("Currently at @blenderBehaviors["+i+"] =\n",r),u=this.getNextAction(r,i,{dst:s(o[p],!0),src:s(g[p],!0),path:this.path}),void 0!==u)){if(e=u,!n.isFunction(e)){if(!n.isString(e))throw this.l.err("_B.Blender.blend: Error: Invalid BlenderBehavior `action` (neither 'Function' nor 'String') : ",e);e=this.getAction(e,i)}this.currentBlenderBehaviorIndex=i,this.currentBlenderBehavior=this.blenderBehaviors[i],d=e(p,g,o,this),b=!1,d!==t.SKIP&&d!==t.NEXT&&d!==t.DELETE&&d!==t.DELETE_NEXT?(n.isArray(d)&&d[0]===t.NEXT&&(d=d[1],b=!0),this.l.deb(20)&&this.l.debug("Action Called - Value assigning:  @path =",this.path.join("/"),"\n  value =",this.l.prettify(d)),o[p]=d):(this.l.deb(30)&&this.l.debug("Action Called - ActionResult = ",d),(d===t.DELETE||d===t.DELETE_NEXT)&&delete o[p],(d===t.NEXT||d===t.DELETE_NEXT)&&(b=!0))}this.path.pop()}return o},t.SKIP={ActionResult:"SKIP"},t.NEXT={ActionResult:"NEXT"},t.DELETE={ActionResult:"DELETE"},t.DELETE_NEXT={ActionResult:"DELETE_NEXT"},t.prototype.overwrite=function(e,t){return t[e]},t.prototype.deepOverwrite=function(e,t,r,n){return n.copyProto&&(r[e].__proto__=t[e].__proto__),n.blend(r[e],t[e])},t.prototype.arrayAppend=function(e,t,r){var n,i,o,s;for(s=t[e],i=0,o=s.length;o>i;i++)n=s[i],r[e].push(n);return r[e]},t.behavior={order:["dst","src"],"*":{"*":"overwrite"},Array:{"[]":"deepOverwrite","{}":"deepOverwrite","->":"deepOverwrite"},"{}":{O:"deepOverwrite",Array:"deepOverwrite",Function:"deepOverwrite"},"->":{"{}":"deepOverwrite","[]":"deepOverwrite","->":"deepOverwrite"}},t}(),r.exports=i,r.exports})}(n),function(){s("blending/blenders/DeepCloneBlender",["require","exports","module","lodash","../../agreement/isAgree","../Blender","../../types/type"],function(e,t,r){var n,i,o,s={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l=[].slice,a=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};return n=e("../Blender"),o=e("../../types/type"),i=function(e){function t(){var e;e=1<=arguments.length?l.call(arguments,0):[],this.blenderBehaviors=e,(this.defaultBlenderBehaviors||(this.defaultBlenderBehaviors=[])).push(t.behavior),(this._optionsList||(this._optionsList=[])).unshift({}),t.__super__.constructor.apply(this,arguments)}return u(t,e),t.behavior={order:["dst","src"],"*":{"[]":"deepCloneOverwrite","{}":"deepCloneOverwrite","->":function(e,t){return t[e]},Undefined:function(){return n.SKIP}},deepCloneOverwrite:function(e,t,r,n){var i,s,u;return u=o(t[e]),i=o(r[e]),i!==u&&(s=["Function","Object"],a.call(s,i)>=0&&a.call(s,u)>=0||(r[e]="Array"===u?[]:{})),n.deepOverwrite(e,t,r,n)}},t}(n),r.exports=i,r.exports})}(n),function(){s("blending/blenders/DeepExtendBlender",["require","exports","module","lodash","../../agreement/isAgree","../../Logger","../Blender"],function(e,t,r,n){var i,o,s,n,u={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a=[].slice;return s=new(e("../../Logger"))("uberscore/DeepExtendBlender"),i=e("../Blender"),n=e("lodash"),o=function(e){function t(){var e;e=1<=arguments.length?a.call(arguments,0):[],this.blenderBehaviors=e,(this.defaultBlenderBehaviors||(this.defaultBlenderBehaviors=[])).push(this.DeepExtendBlenderBehavior),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.DeepExtendBlenderBehavior={order:["src","dst"],String:{"*":"overwriteOrReplace"},Array:{"[]":function(e,t,r,i){return n.reject(i.deepOverwrite(e,t,r,i),function(e){return null===e||void 0===e})},"*":function(e,t,r){throw"deepExtend: Error: Trying to combine an array with a non-array.\n\nProperty: "+e+"\ndestination[prop]: "+s.prettify(r[e])+"\nsource[prop]: "+s.prettify(t[e])}},Object:{"{}":function(e,t,r,n){var i,o,s,u;u=i=n.getAction("deepOverwrite")(e,t,r,n);for(o in u)s=u[o],(null===s||void 0===s)&&delete i[o];return i},"*":function(e,t,r){throw"deepExtend: Error trying to combine a PlainObject with a non-PlainObject.\n\nProperty: "+e+"\ndestination[prop]: "+s.prettify(r[e])+"\nsource[prop]: "+s.prettify(t[e])}},overwriteOrReplace:function(e,t,r){var i;return i=/\${\s*?_\s*?}/,n.isString(t[e])&&i.test(t[e])?n.isString(r[e])?t[e].replace(i,r[e]):r[e]:t[e]}},t}(i),r.exports=o,r.exports})}(n),function(){s("blending/blenders/DeepDefaultsBlender",["require","exports","module","lodash","../../agreement/isAgree","../Blender","../../types/type","./DeepCloneBlender"],function(e,t,r){var n,i,o,s,u={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a=[].slice;return n=e("../Blender"),s=e("../../types/type"),i=e("./DeepCloneBlender"),o=function(e){function t(){var e;e=1<=arguments.length?a.call(arguments,0):[],this.blenderBehaviors=e,(this.defaultBlenderBehaviors||(this.defaultBlenderBehaviors=[])).push(t.behavior),(this._optionsList||(this._optionsList=[])).unshift({}),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.behavior={order:["dst","src"],Undefined:function(){return n.NEXT},Null:function(){return n.NEXT},Object:{Object:function(){return n.NEXT},Function:function(){return n.NEXT},"*":function(){return n.SKIP}},Function:{Object:function(){return n.NEXT},Function:function(){return n.NEXT},"*":function(){return n.SKIP}},Array:{Array:function(){return n.NEXT},"*":function(){return n.SKIP}},"*":function(){return n.SKIP}},t}(i),r.exports=o,r.exports})}(n),function(){s("blending/blenders/ArrayizePushBlender",["require","exports","module","lodash","../../agreement/isAgree","../../collections/array/arrayize","./DeepCloneBlender"],function(e,t,r,n){var i,o,s,u={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a=[].slice,c=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};return s=e("../../collections/array/arrayize"),o=e("./DeepCloneBlender"),i=function(e){function t(){var e;e=1<=arguments.length?a.call(arguments,0):[],this.blenderBehaviors=e,(this.defaultBlenderBehaviors||(this.defaultBlenderBehaviors=[])).push(t.behavior),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.behavior={order:["src"],unique:!1,"*":"pushToArray",pushToArray:function(e,t,r,i){var o,u,l,a,p;for(r[e]=s(r[e]),u=s(t[e]),n.isEqual(u[0],[null])&&(r[e]=[],u=u.slice(1)),o=i.unique?function(){var t,n,i;for(i=[],t=0,n=u.length;n>t;t++)l=u[t],c.call(r[e],l)<0&&i.push(l);return i}():u,a=0,p=o.length;p>a;a++)l=o[a],r[e].push(l);return r[e]}},t}(o),r.exports=i,r.exports})}(n),function(){s("blending/deepExtend",["require","exports","module","lodash","../agreement/isAgree","../Logger"],function(e,t,r,n){var i,o,s,n,u=[].slice,l={}.hasOwnProperty;return n=e("lodash"),o=new(e("../Logger"))("uberscore/Blender"),s=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],i=function(){var e,t,r,s,a,c,p,f;for(e=arguments[0],a=2<=arguments.length?u.call(arguments,1):[],t=/\${\s*?_\s*?}/,p=0,f=a.length;f>p;p++){s=a[p];for(r in s)if(l.call(s,r))if(n.isUndefined(e[r]))e[r]=s[r];else if(n.isString(s[r])&&t.test(s[r]))n.isString(e[r])&&(e[r]=s[r].replace(t,e[r]));else if(n.isArray(e[r])||n.isArray(s[r])){if(!n.isArray(e[r])||!n.isArray(s[r]))throw"deepExtend: Error: Trying to combine an array with a non-array.\n\nProperty: "+r+"\ndestination[prop]: "+o.prettify(e[r])+"\nsource[prop]: "+o.prettify(s[r]);e[r]=n.reject(i(e[r],s[r]),function(e){return null===e||void 0===e})}else if(n.isPlainObject(e[r])||n.isPlainObject(s[r])){if(!n.isPlainObject(e[r])||!n.isPlainObject(s[r]))throw"deepExtend: Error trying to combine a PlainObject with a non-PlainObject.\n\nProperty: "+r+"\ndestination[prop]: "+o.prettify(e[r])+"\nsource[prop]: "+o.prettify(s[r]);e[r]=i(e[r],s[r])}else c=s[r],null!==c&&void 0!==c||!n.isPlainObject(e)?e[r]=c:delete e[r]}return e},r.exports=i,r.exports})}(n),function(){s("objects/okv",["require","exports","module","lodash","../agreement/isAgree"],function(e,t,r,n){var i,n,o=[].slice;return n=e("lodash"),i=function(){var e,t,r,i,s,u;if(i=arguments[0],r=2<=arguments.length?o.call(arguments,1):[],n.isObject(i)){for(e=s=0,u=r.length;u>s;e=s+=2)t=r[e],e+1<r.length&&(i[t]=r[e+1]);return i}return null},r.exports=i,r.exports})}(n),function(){s("collections/go",["require","exports","module","lodash","../agreement/isAgree"],function(e,t,r,n){var i,n,o=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};return n=e("lodash"),i=function(e,t,r){var i,s,u,l,a,c,p,f,d,h,g,y,b,v;if(t&&(u=t.fltr,c=t.iter,y=t.sort,l=t.grab),a=!n.isArray(e),f=function(){return a?{}:[]},e=n.clone(e),h=null,d=function(){return h=void 0===l?f():n.isFunction(l)?f():n.isArray(l)?[]:n.isObject(l)?{}:n.isString(l)?"[]"===l||"array"===l||"Array"===l||"a"===l||"A"===l?[]:"{}"===l||"object"===l||"Object"===l||"o"===l||"O"===l?{}:f():f()},g=function(e,t){return n.isArray(h)?h.push(e):h[t]=e},s=function(t,r){return a&&(r=t,t=e[r]),[t,r]},void 0!==u&&(d(),n.each(e,function(t,i){var s;if(n.isFunction(u)){if(u.call(r,t,i,e))return g(t,i)}else if(a&&(n.isString(u)&&(u=[u]),n.isArray(u)&&o.call(function(){var e,t,r;for(r=[],e=0,t=u.length;t>e;e++)s=u[e],r.push(s.toString());return r}(),i)>=0))return g(t,i)}),e=h),void 0!==y&&(d(),p=[],n(e).map(function(e,t){return a?t:e}).sortBy(n.isFunction(y)?function(e,t){return y.apply(r,s(e,t))}:n.isString(y)?function(e){return e}:n.isBoolean(y)?y?function(){return!0}:function(){return!1}:y).each(function(e,t){return g.apply(null,s(e,t))}),e=h),n.isFunction(c)&&(void 0===y?n.each(e,function(t,n){return c.call(r,t,n,e)}):n.each(e,function(t,n){return c.call(r,t,n,e)})),l)if(n.isFunction(l))n.each(e,function(t,n){return l.call(r,t,n,e)});else if(n.isArray(l))for(b=0,v=e.length;v>b;b++)i=e[b],l.push(i);else n.isObject(l)&&n.extend(l,e);return e},r.exports=i,r.exports})}(n),function(){s("objects/mutate",["require","exports","module","lodash","../agreement/isAgree","../collections/go"],function(e,t,r,n,i){var o,i,s,n;return n=e("lodash"),i=e("../agreement/isAgree"),o=e("../collections/go"),s=function(e,t,r){return n.isFunction(t)&&o(e,{iter:function(n,o){return i(n,r)?e[o]=t(n):void 0}}),e},r.exports=s,r.exports})}(n),function(){s("objects/isDisjoint",["require","exports","module","lodash","../agreement/isAgree"],function(e,t,r,n){var i,n;return n=e("lodash"),i=function(e,t,r){var i;return null==r&&(r=function(e,t){return e===t}),i=!1,n.each(e,function(e){return n.any(t,function(t){return r(e,t)})?(i=!0,!1):void 0}),!i},r.exports=i,r.exports})}(n),function(){s("objects/getRefs",["require","exports","module","lodash","../agreement/isAgree"],function(e,t,r,n){var i,o,s={}.hasOwnProperty;return o={deep:!1,inherited:!1},i=function(e,t,r){var u,l,a,c,p;for(null==t&&(t=o),null==r&&(r=[]),t!==o&&n.defaults(t,o),l=t.inherited?function(){var t;t=[];for(u in e)t.push(u);return t}():function(){var t;t=[];for(u in e)s.call(e,u)&&t.push(u);return t}(),c=0,p=l.length;p>c;c++)u=l[c],a=e[u],n.isObject(a)&&(r.push(a),t.deep&&i(a,t,r));return r},r.exports=i,r.exports})}(n),function(){s("objects/isRefDisjoint",["require","exports","module","lodash","../agreement/isAgree","./getRefs","./isDisjoint"],function(e,t,r,n){var i,o,s,u,n;return n=e("lodash"),i=e("./getRefs"),o=e("./isDisjoint"),u={deep:!1,inherited:!1},s=function(e,t,r){var s,l;return null==r&&(r=u),r!==u&&n.defaults(r,u),e===t?!1:(s=i(e,r),s.unshift(e),l=i(t,r),l.unshift(t),o(s,l))},r.exports=s,r.exports})}(n),function(){s("objects/getInheritedPropertyNames",["require","exports","module","lodash","../agreement/isAgree"],function(e,t,r,n){var i,n,o;return n=e("lodash"),i=function(e){return o(Object.getPrototypeOf(e))},o=function(e){var t;for(t=[];;){if(!e||void 0===e||n.isEmpty(e)&&!Object.getPrototypeOf(e))break;Object.getOwnPropertyNames(e).forEach(function(e){return-1===t.indexOf(e)&&"constructor"!==e?t.push(e):void 0}),e=Object.getPrototypeOf(e)}return t},r.exports=i,r.exports})}(n),function(){s("types/isPlain",["require","exports","module","lodash","../agreement/isAgree","./type"],function(e,t,r){function n(e,t){for(var r=-1,n=t.length>>>0;++r<n;)if(e===t[r]&&r in t)return!0;return!1}var i,o;return i=e("./type"),o=function(e){return n(i(e),o.PLAIN_TYPES)},o.PLAIN_TYPES=["String","Date","RegExp","Number","Boolean","Null","Undefined"],r.exports=o,r.exports})}(n),function(){s("collections/array/isEqualArraySet",["require","exports","module","lodash","../../agreement/isAgree"],function(e,t,r,n){var i,n;return n=e("lodash"),i=function(e,t){return 0===n.difference(e,t).length?0===n.difference(t,e).length:!1},r.exports=i,r.exports})}(n),function(){s("objects/isEqual",["require","exports","module","lodash","../agreement/isAgree","../types/type","../types/isPlain","../collections/array/isEqualArraySet","../Logger"],function(e,t,r,n){var i,o,s,u,l,a,c=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1},p={}.hasOwnProperty;return a=e("../types/type"),u=e("../types/isPlain"),o=e("../collections/array/isEqualArraySet"),l=new(e("../Logger"))("uberscore/isEqual",0),s={inherited:!1,exact:!1,exclude:["constructor"],functionAsObject:!1,allKeys:!1},i=function(e,t,r,f,d){var h,g,y,b,v,m,x,B,E,j,A,O;if(null==d&&(d=s),n.isPlainObject(r)&&n.isUndefined(f)&&d===s)for(d=n.clone(d,!0),O=n.keys(s),B=0,j=O.length;j>B;B++)m=O[B],d[m]||(d[m]=r[m]);if(d.callback&&(r=d.callback),d.thisArg&&(f=d.thisArg),d!==s&&n.defaults(d,s),n.isFunction(r)){if(v=r.apply(f,[e,t]),void 0!==v)return v?!0:!1}else r=void 0;if(l.deb(20)&&l.debug("options = ",d),g=a(e),b=a(t),!d.exact&&!d.inherited&&(n.isObject(e)||n.isObject(t))&&n.isEqual(e,t,r,f))return l.deb(40)&&l.debug("return true - non exact _.isEqual"),!0;if(e===t)return l.deb(40)&&l.debug("return true - a is b"),!0;if(u(e)||u(t)||n.isFunction(e)||n.isFunction(t))return l.deb(40)&&l.debug("return  _.isEqual a, b"),n.isEqual(e,t);if(d.inherited||d.exact){if(d.inherited?(h=function(){var t;t=[];for(m in e)c.call(d.exclude,m)<0&&t.push(m);return t}(),y=function(){var e;e=[];for(m in t)c.call(d.exclude,m)<0&&e.push(m);return e}()):(h=function(){var t;t=[];for(m in e)p.call(e,m)&&c.call(d.exclude,m)<0&&t.push(m);return t}(),y=function(){var e;e=[];for(m in t)p.call(t,m)&&c.call(d.exclude,m)<0&&e.push(m);return e}()),h.length!==y.length||!o(h,y))return!1;for(E=0,A=h.length;A>E;E++){if(x=h[E],d.exact&&e[x]!==t[x])return l.deb(40)&&l.debug("return false - exact ref not same"),!1;if(!n.isEqual(e[x],t[x],r,f)&&!i(e[x],t[x],r,f,d))return l.deb(40)&&l.debug("return false - not isEqual nested for prop =",x,"values = ",e[x],t[x]),!1}return l.deb(40)&&l.debug("return true - all properties considered true"),!0}return l.deb(40)&&l.debug("return false - nothing left to check!"),!1},r.exports=i,r.exports})}(n),function(){s("objects/isIqual",["require","exports","module","lodash","../agreement/isAgree","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.inherited=!0,(o.exclude||(o.exclude=[])).push("constructor"),n.apply(void 0,[e,t,r,i,o])},r.exports=i,r.exports})}(n),function(){s("objects/isExact",["require","exports","module","lodash","../agreement/isAgree","./isEqual"],function(e,t,r){var n,i;return n=e("./isEqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.exact=!0,n.apply(void 0,[e,t,r,i,o])},r.exports=i,r.exports})}(n),function(){s("objects/isIxact",["require","exports","module","lodash","../agreement/isAgree","./isIqual"],function(e,t,r){var n,i;return n=e("./isIqual"),i=function(e,t,r,i,o){return null==o&&(o={}),o.exact=!0,n.apply(void 0,[e,t,r,i,o])},r.exports=i,r.exports})}(n),function(){s("types/isObject",["require","exports","module","lodash","../agreement/isAgree","./type"],function(e,t,r){var n,i;return i=e("./type"),r.exports=n=function(e){return"Object"===i(e)},r.exports})}(n),function(){s("certain",["require","exports","module","lodash","./agreement/isAgree","./types/isObject"],function(e,t,r,n){var i,o;return o=e("./types/isObject"),i=function(e,t,r,i){if(null==i&&(i=!1),!o(e)&&!n.isFunction(e))throw"Error: _B.certain: o is neither an Object or Function.\no="+JSON.stringify(e,null,"");return n.isUndefined(t)&&(t="*"),function(o){var s,u,l;if(s=null!=(u=null!=(l=e[o])?l:e[t])?u:r,i&&n.isUndefined(s))throw"Error: _B.certain: defaultKey is undefined.\n  defaultVal is also undefined.\n  key='"+o+"' (o["+o+"] is obviously undefined too)\n  defaultKey='"+t+"'\n  o="+JSON.stringify(e,null,"");return s}},r.exports=i,r.exports})}(n),function(e){s("uberscore",["require","exports","module","lodash","./agreement/isAgree","./blending/Blender","./blending/blenders/DeepCloneBlender","./blending/blenders/DeepExtendBlender","./blending/blenders/DeepDefaultsBlender","./blending/blenders/ArrayizePushBlender","./blending/deepExtend","./objects/okv","./objects/mutate","./objects/setp","./objects/getp","./objects/isDisjoint","./objects/isRefDisjoint","./objects/getRefs","./objects/getInheritedPropertyNames","./objects/isEqual","./objects/isIqual","./objects/isExact","./objects/isIxact","./collections/go","./collections/array/isEqualArraySet","./collections/array/arrayize","./agreement/inAgreements","./types/type","./types/isPlain","./types/isObject","./Logger","./certain"],function(t,r,n,i,o){var s=function(e,t,r){var n,i="0.0.12";
return n=function(){function t(){}return t.prototype.VERSION="undefined"==typeof i||null===i?"{NO_VERSION}":i,t.prototype.Blender=e("./blending/Blender"),t.prototype.DeepCloneBlender=e("./blending/blenders/DeepCloneBlender"),t.prototype.DeepExtendBlender=e("./blending/blenders/DeepExtendBlender"),t.prototype.DeepDefaultsBlender=e("./blending/blenders/DeepDefaultsBlender"),t.prototype.ArrayizePushBlender=e("./blending/blenders/ArrayizePushBlender"),t.prototype.deepExtend=e("./blending/deepExtend"),t.prototype.okv=e("./objects/okv"),t.prototype.mutate=e("./objects/mutate"),t.prototype.setp=e("./objects/setp"),t.prototype.getp=e("./objects/getp"),t.prototype.isDisjoint=e("./objects/isDisjoint"),t.prototype.isRefDisjoint=e("./objects/isRefDisjoint"),t.prototype.getRefs=e("./objects/getRefs"),t.prototype.getInheritedPropertyNames=e("./objects/getInheritedPropertyNames"),t.prototype.isEqual=e("./objects/isEqual"),t.prototype.isIqual=e("./objects/isIqual"),t.prototype.isExact=e("./objects/isExact"),t.prototype.isIxact=e("./objects/isIxact"),t.prototype.go=e("./collections/go"),t.prototype.isEqualArraySet=e("./collections/array/isEqualArraySet"),t.prototype.arrayize=e("./collections/array/arrayize"),t.prototype.isAgree=e("./agreement/isAgree"),t.prototype.inAgreements=e("./agreement/inAgreements"),t.prototype.type=e("./types/type"),t.prototype.isPlain=e("./types/isPlain"),t.prototype.isObject=e("./types/isObject"),t.prototype.Logger=e("./Logger"),t.prototype.certain=e("./certain"),t}(),r.exports=new n,r.exports}(t,r,n,i,o),u=e._B,l=e.uberscore;return e._B=s,e.uberscore=s,s.noConflict=function(){return e._B=u,e.uberscore=l,s},s})}(n),o("uberscore")},e?define(["lodash"],factory):t?module.exports=factory():factory()}();