// Generated by uRequire v0.7.0-beta4 - template: 'UMD' 
(function (window, global) {
  
var __isAMD = !!(typeof define === 'function' && define.amd),
    __isNode = (typeof exports === 'object'),
    __isWeb = !__isNode;
(function (factory) {
  if (typeof exports === 'object') {
    var nr = new (require('urequire').NodeRequirer) ('blending/clone-spec', module, __dirname, '.');
    module.exports = factory(nr.require, exports, module, nr.require('chai'), nr.require('lodash'), nr.require('uberscore'), nr.require('../specHelpers'), nr.require('../spec-data'));
} else if (typeof define === 'function' && define.amd) { define(['require', 'exports', 'module', 'chai', 'lodash', 'uberscore', '../specHelpers', '../spec-data'], factory) } else throw new Error('uRequire: Loading UMD module as <script>, without `build.noLoaderUMD`');
}).call(this, function (require, exports, module, chai, _, _B, specHelpers, data) {
  

var equal = specHelpers["equal"],notEqual = specHelpers["notEqual"],ok = specHelpers["ok"],notOk = specHelpers["notOk"],tru = specHelpers["tru"],fals = specHelpers["fals"],deepEqual = specHelpers["deepEqual"],notDeepEqual = specHelpers["notDeepEqual"],exact = specHelpers["exact"],notExact = specHelpers["notExact"],iqual = specHelpers["iqual"],notIqual = specHelpers["notIqual"],ixact = specHelpers["ixact"],notIxact = specHelpers["notIxact"],like = specHelpers["like"],notLike = specHelpers["notLike"],likeBA = specHelpers["likeBA"],notLikeBA = specHelpers["notLikeBA"],equalSet = specHelpers["equalSet"],notEqualSet = specHelpers["notEqualSet"];
var expect = chai["expect"];


var l = new _B.Logger('blending/clone-spec.js');

return describe("_B.clone:", function () {
    var checkDeep, checkShallow;
    checkShallow = function (o1, o2) {
      expect(o1, o2).not.same;
      expect(o1, o2).deep.equal;
      expect(_B.isExact(o1, o2)).to.be["true"];
      expect(_B.isRefDisjoint(o1, o2)).to.be["false"];
      return _.each(o1, function (v, key) {
        return expect(o1[key]).equals(o2[key]);
      });
    };
    checkDeep = function (o1, o2) {
      expect(o1, o2).not.same;
      expect(o1, o2).deep.equal;
      expect(_B.isExact(o1, o2)).to.be["false"];
      expect(_B.isRefDisjoint(o1, o2)).to.be["true"];
      return _.each(o1, function (v, key) {
        if (!_B.isPlain(o1[key])) {
          return expect(o1[key]).not.equals(o2[key]);
        }
      });
    };
    describe("simple clonning:", function () {
      var obj;
      obj = [
        { a: 1 },
        { b: { b2: 2 } }
      ];
      it("defaults to shallow copy", function () {
        return checkShallow(obj, _B.clone(obj));
      });
      return describe("copies deep with option deep:", function () {
        it("as boolean", function () {
          return checkDeep(obj, _B.clone(obj, true));
        });
        return it("as options `deep` key", function () {
          return checkDeep(obj, _B.clone(obj, { deep: true }));
        });
      });
    });
    return describe("with copyProto:", function () {
      var Creator, creatorPrototype, obj;
      Creator = function () {
        this.a = 1;
        this.b = { b2: 2 };
        return this;
      };
      creatorPrototype = { creatorPrototype: "hereIam" };
      Creator.prototype.creatorPrototype = creatorPrototype;
      obj = new Creator();
      it("defaults to shallow copy", function () {
        var cloned;
        cloned = _B.clone(obj, { copyProto: true });
        checkShallow(obj, cloned);
        return expect(Object.getPrototypeOf(obj), Object.getPrototypeOf(cloned)).to.be.equal;
      });
      return it("with option deep", function () {
        var cloned;
        cloned = _B.clone(obj, { deep: true });
        checkDeep(obj, cloned);
        return expect(Object.getPrototypeOf(obj), Object.getPrototypeOf(cloned)).to.be.equal;
      });
    });
  });


})
}).call(this, (typeof exports === 'object' ? global : window), (typeof exports === 'object' ? global : window))